(function(e){function t(t){for(var s,i,o=t[0],l=t[1],p=t[2],c=0,u=[];c<o.length;c++)i=o[c],n[i]&&u.push(n[i][0]),n[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(u.length)u.shift()();return r.push.apply(r,p||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,i=1;i<a.length;i++){var o=a[i];0!==n[o]&&(s=!1)}s&&(r.splice(t--,1),e=l(l.s=a[0]))}return e}var s={},i={app:0},n={app:0},r=[];function o(e){return l.p+"js/"+({404:"404"}[e]||e)+"."+{404:"d57c49ac","chunk-2d0c512b":"79c6b45a","chunk-97a1a47a":"e0b6e189"}[e]+".js"}function l(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a={404:1};i[e]?t.push(i[e]):0!==i[e]&&a[e]&&t.push(i[e]=new Promise((function(t,a){for(var s="css/"+({404:"404"}[e]||e)+"."+{404:"54ae3b1e","chunk-2d0c512b":"31d6cfe0","chunk-97a1a47a":"31d6cfe0"}[e]+".css",n=l.p+s,r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var p=r[o],c=p.getAttribute("data-href")||p.getAttribute("href");if("stylesheet"===p.rel&&(c===s||c===n))return t()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){p=u[o],c=p.getAttribute("data-href");if(c===s||c===n)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var s=t&&t.target&&t.target.src||n,r=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");r.request=s,delete i[e],d.parentNode.removeChild(d),a(r)},d.href=n;var m=document.getElementsByTagName("head")[0];m.appendChild(d)})).then((function(){i[e]=0})));var s=n[e];if(0!==s)if(s)t.push(s[2]);else{var r=new Promise((function(t,a){s=n[e]=[t,a]}));t.push(s[2]=r);var p,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=o(e),p=function(t){c.onerror=c.onload=null,clearTimeout(u);var a=n[e];if(0!==a){if(a){var s=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,r=new Error("Loading chunk "+e+" failed.\n("+s+": "+i+")");r.type=s,r.request=i,a[1](r)}n[e]=void 0}};var u=setTimeout((function(){p({type:"timeout",target:c})}),12e4);c.onerror=c.onload=p,document.head.appendChild(c)}return Promise.all(t)},l.m=e,l.c=s,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(a,s,function(t){return e[t]}.bind(null,s));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/console/",l.oe=function(e){throw console.error(e),e};var p=window["webpackJsonp"]=window["webpackJsonp"]||[],c=p.push.bind(p);p.push=t,p=p.slice();for(var u=0;u<p.length;u++)t(p[u]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0259":function(e,t,a){"use strict";var s=a("b299"),i=a.n(s);i.a},"0dfd":function(e,t,a){"use strict";var s=a("f99b"),i=a.n(s);i.a},"1f6b":function(e,t,a){},2368:function(e,t,a){},"294d":function(e,t,a){"use strict";var s=a("42dd"),i=a.n(s);i.a},"2da0":function(e,t,a){var s={"./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab"};function i(e){var t=n(e);return a(t)}function n(e){var t=s[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}i.keys=function(){return Object.keys(s)},i.resolve=n,e.exports=i,i.id="2da0"},4084:function(e,t,a){},"42dd":function(e,t,a){},"47a1":function(e,t,a){},"4a15a":function(e,t,a){"use strict";var s=a("e133"),i=a.n(s);i.a},"4fde":function(e,t,a){"use strict";var s=a("4084"),i=a.n(s);i.a},"515b":function(e,t,a){"use strict";var s=a("abb5"),i=a.n(s);i.a},"56d7":function(e,t,a){"use strict";a.r(t);a("368b");var s=a("56cd"),i=(a("380f"),a("f64c")),n=(a("5b61"),a("4df5")),r=(a("dcac"),a("fc25")),o=(a("9e39"),a("f933")),l=(a("153b"),a("9571")),p=(a("7a59"),a("39ab")),c=(a("d2a2"),a("98c5")),u=(a("1c85"),a("ccb9e")),d=(a("0c1d"),a("8592")),m=(a("02cf"),a("9839")),v=(a("4bbf"),a("59a5")),f=(a("a1062"),a("09d9")),h=(a("a71a"),a("b558")),g=(a("20c5"),a("bb76")),_=(a("b8e1"),a("2f50")),b=(a("3e86"),a("7571")),y=(a("0723"),a("0020")),A=(a("805a"),a("0c63")),x=(a("04f3"),a("ed3b")),k=(a("8b88"),a("681b")),w=(a("564f"),a("768f")),C=(a("9967"),a("de1b")),$=(a("e1f5"),a("5efb")),S=(a("c721"),a("3af3")),D=(a("b6e5"),a("55f1")),L=(a("b846"),a("a071")),E=(a("7e7d"),a("83d8")),I=(a("05db"),a("fa07")),O=(a("48e3"),a("2fc4")),V=(a("d7e5"),a("28da")),T=(a("9f9e"),a("2c92")),M=(a("516e"),a("782e")),F=(a("ee33"),a("a79d")),U=(a("91dc"),a("d49c")),q=(a("c2f7"),a("db14")),j=(a("cadf"),a("551c"),a("f751"),a("097d"),a("2b0e")),R=(a("76ff"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-config-provider",{attrs:{locale:e.locale}},[a("a-layout",{staticClass:"layout",attrs:{id:"var-app"}},[e.$route.meta.full?e._e():a("Header",{attrs:{locale:e.locale}}),e.layoutLoading?a("a-spin",{staticClass:"v-layout-loading",attrs:{tip:"加载中..."}}):a("router-view"),a("a-back-top")],1)],1)}),N=[],H=a("677e"),B=a.n(H),P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a-layout-header",{staticClass:"v-header"},[s("router-link",{attrs:{to:"/"}},[s("img",{staticClass:"logo",attrs:{src:a("cf05"),alt:"VirApi LOGO"}}),s("span",{staticClass:"v-logo-s"},[e._v("开源版")])]),s("div",{staticClass:"v-header-menu"},[s("a-menu",{attrs:{mode:"horizontal",selectedKeys:[]}},[s("a-menu-item",[s("router-link",{attrs:{to:{name:"myApps"}}},[s("a-icon",{attrs:{type:"appstore"}}),s("span",[e._v("我的应用")])],1)],1),s("a-menu-item",[s("a",{attrs:{href:"https://github.com/bluvenr/open_virapi",target:"_blank"}},[s("a-icon",{attrs:{type:"book"}}),e._v("更多资源\n        ")],1)]),s("a-menu-item",[s("a",{attrs:{href:"http://www.virapi.com/",target:"_blank"}},[s("a-icon",{attrs:{type:"compass"}}),e._v("VirAPI官网\n        ")],1)]),s("a-menu-item",[s("a",{attrs:{href:"http://console.virapi.com/",target:"_blank"}},[s("a-icon",{attrs:{type:"crown"}}),e._v("在线服务\n        ")],1)])],1),s("a-menu",{attrs:{mode:"horizontal",selectedKeys:[]}},[s("a-menu-item",{key:"bell"},[s("router-link",{attrs:{to:{name:"information"}}},[s("a-icon",{attrs:{type:"bell"}}),e._v("消息\n          ")],1)],1),s("a-sub-menu",[s("span",{staticClass:"v-submenu-title-wrapper",attrs:{slot:"title"},slot:"title"},[s("a-icon",{attrs:{type:"plus-square"}}),s("span",[e._v("新建")])],1),s("a-menu-item",{key:"create_app"},[s("router-link",{attrs:{to:{name:"appCreate"}}},[e._v("新建应用")])],1),s("a-menu-item",{key:"create_api"},[s("router-link",{attrs:{to:{name:"apiCreate"}}},[e._v("新建接口")])],1)],1),s("a-sub-menu",[s("span",{staticClass:"v-submenu-title-wrapper v-header-avatar-box",attrs:{slot:"title"},slot:"title"},[s("img",{staticClass:"v-header-avatar",attrs:{src:e.$store.getters.avatarUrl?e.$store.getters.avatarUrl:a("8d96"),alt:"头像"}}),s("span",[e._v(e._s(e.$store.getters.userName?e.$store.getters.userName:"个人中心"))]),s("a-icon",{attrs:{type:"down"}})],1),s("a-menu-item",[s("router-link",{attrs:{to:{name:"profile"}}},[s("a-icon",{attrs:{type:"user"}}),e._v("个人资料\n          ")],1)],1),s("a-menu-item",[s("a",{attrs:{href:"https://github.com/bluvenr/open_virapi",target:"_blank"}},[s("a-icon",{attrs:{type:"github"}}),e._v("GitHub\n          ")],1)]),s("a-menu-item",{key:"setting:logout",on:{click:e.logoutHandle}},[s("a-icon",{attrs:{type:"logout"}}),e._v("退出登录\n        ")],1)],1)],1)],1)],1)},z=[],Q={methods:{handleChangeLang:function(e){console.log("e",e)},logoutHandle:function(){var e=this;this.$store.dispatch("handleLogOut").then((function(t){e.$router.push({name:"login"})})).catch((function(t){e.$router.push({name:"login"})}))}}},G=Q,Y=(a("a901"),a("2877")),Z=Object(Y["a"])(G,P,z,!1,null,null,null),W=Z.exports,K={name:"appLayout",components:{Header:W},data:function(){return{locale:B.a,layoutLoading:!0}},watch:{$route:function(e,t){e.meta.auth&&!this.$store.getters.userName&&this.$store.dispatch("handleGetUserInfo"),e.meta.auth&&!this.$store.getters.myApps&&this.$store.dispatch("handleUpdateMyApps")}},created:function(){var e=this;this.$route.meta.auth?this.$store.dispatch("handleGetUserInfo").then((function(){e.$store.dispatch("handleUpdateMyApps").then((function(){e.layoutLoading=!1}))})).catch((function(t){401==t.code&&(e.layoutLoading=!1)})):this.layoutLoading=!1,console.log("%cVirAPI - 在线虚拟数据云接口平台","color:#2570ff;font-size:24px;font-weight:600;"),console.log("如果您觉得VirAPI有为您带来便利或帮助，请赞助我们~~。\n如果您有兴趣参与VirAPI的维护，或想为该平台提供一些帮助，也欢迎联系！"),console.group("【系统信息】"),console.log("Version：%s","0.0.3"),console.log("Host：https://www.virapi.com/"),console.log("Date：%s",new Date),console.log("Email：virapi@outlook.com"),console.log("Copyright © 2019~2020 Bluven. All Rights Reserved."),console.groupEnd(),console.log("%c温馨提示：%c请勿暴露或擅自他用您的cookie等身份登录信息，以免数据信息被盗用！\n如在使用过程中遇到任何问题，请及时与我们反馈！\n再次感谢您对本平台的支持~~","color:#f00;font-weight:600;","color:#666;")}},J=K,X=(a("7c55"),Object(Y["a"])(J,R,N,!1,null,null,null)),ee=X.exports,te=(a("7f7f"),a("8c4f")),ae=a("2f62"),se=a("795b"),ie=a.n(se),ne=a("bc3a"),re=a.n(ne),oe=re.a.create({baseURL:"/ajax",timeout:3e4,headers:{"Content-Type":"application/json; charset=UTF-8"}});oe.interceptors.request.use((function(e){return e}),(function(e){return ie.a.reject(e)}));var le=!1;oe.interceptors.response.use((function(e){var t=e.data;return 200!==t.code?(401!=t.code||le||(le=!0,Le.getters.isLogin?Le.dispatch("handleLogOut").then((function(e){x["a"].confirm({title:"账户登录状态异常",content:"登录信息失效或被挤下线，是否重新登录",okText:"重新登录",onOk:function(){Es.push("/login")}})})).catch((function(e){x["a"].confirm({title:"提示",content:"账号状态异常，请重新登录",okText:"重新登录",onOk:function(){Es.push("/login")}})})):i["a"].error("当前登录状态异常",5)),ie.a.reject({code:t.code,message:t.message})):(le=!1,t)}),(function(e){return ie.a.reject(e)}));var pe=oe;function ce(){return pe({url:"/application",method:"get"})}function ue(){return pe({url:"/application/list",method:"get"})}function de(e){return pe({url:"/application/"+e,method:"get"})}function me(e){return pe({url:"/application/"+e+"/base_info",method:"get"})}function ve(e){return pe({url:"/application",method:"post",data:e})}function fe(e){return pe({url:"/application/"+e,method:"delete"})}function he(e,t){return pe({url:"/application/"+e,method:"put",data:t})}function ge(e){return pe({url:"/change_application_key",method:"post",data:{id:e}})}function _e(e){return pe({url:"/application/copy",method:"post",data:e})}var be={state:{appList:null,maxConfig:null},mutations:{setAppList:function(e,t){e.appList=t||[]},setMaxConfig:function(e,t){e.maxConfig=t||{}}},actions:{handleUpdateMyApps:function(e){var t=e.commit;return new ie.a((function(e,a){ue().then((function(a){t("setAppList",a.data),e(a.data)})).catch((function(e){a(e)}))}))}}};a("28a5");function ye(e){return pe({url:"/login",method:"post",data:e})}function Ae(){return pe({url:"/account",method:"get"})}function xe(e){return pe({url:"/user/profile",method:"post",data:e})}function ke(){return pe({url:"/session",method:"delete"})}function we(e){return pe({url:"/user_pwd",method:"put",data:e})}function Ce(){return document.cookie.split("; ").filter((function(e){return 0===e.indexOf("v_token=")})).map((function(e){return e.split("=")[1]}))[0]||null}var $e={state:{isLogin:Ce(),nickname:null,avatarUrl:null,virUid:null,basicsData:null},mutations:{setLoginStatus:function(e,t){e.isLogin=t},setUserName:function(e,t){e.nickname=t||null},setUserAvatarUrl:function(e,t){e.avatarUrl=t||null},setUserVirUid:function(e,t){e.virUid=t||null},setUserBasicsData:function(e,t){e.basicsData=t||null}},actions:{handleUserBasicsData:function(e,t){var a=e.commit;a("setUserBasicsData",t)},handleLogin:function(e,t){var a=e.commit;return new ie.a((function(e,s){ye(t).then((function(t){a("setLoginStatus",1),a("setUserName",t.data.nickname),a("setUserAvatarUrl",t.data.avatar),a("setUserVirUid",t.data.vir_uid),a("setUserBasicsData",t.data.other_info),e(t.data)})).catch((function(e){s(e)}))}))},handleLogOut:function(e){var t=e.commit;return new ie.a((function(e,a){ke().then((function(){t("setLoginStatus",null),t("setUserName",null),t("setUserAvatarUrl",null),t("setUserVirUid",null),t("setUserBasicsData",null),e()})).catch((function(e){t("setLoginStatus",null),t("setUserName",null),t("setUserAvatarUrl",null),t("setUserVirUid",null),t("setUserBasicsData",null),a(e)}))}))},handleGetUserInfo:function(e){var t=e.commit;return new ie.a((function(e,a){Ae().then((function(a){var s=a.data;t("setUserName",s.nickname),t("setUserAvatarUrl",s.avatar),t("setUserVirUid",s.vir_uid),t("setUserBasicsData",s.other_info),e(s)})).catch((function(e){a(e)}))}))}}},Se={isLogin:function(e){return e.user.isLogin},userName:function(e){return e.user.nickname},avatarUrl:function(e){return e.user.avatarUrl},virUid:function(e){return e.user.virUid},registrationDate:function(e){return e.user.registrationDate},myApps:function(e){return e.app.appList},appVersion:function(e){return e.app.version}},De=Se;j["a"].use(ae["a"]);var Le=new ae["a"].Store({modules:{user:$e,app:be},getters:De}),Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-home-layout"},[a("div",{staticClass:"v-home-content"},[a("div",{staticClass:"v-home-l"},[a("div",{staticClass:"v-home-user-box"},[a("router-link",{staticClass:"v-h-u-edit-btn",attrs:{to:{name:"profile",query:{from:"home"}},title:"编辑个人资料"}},[a("a-icon",{attrs:{type:"form"}})],1),a("img",{attrs:{src:e.$store.getters.avatarUrl,alt:"头像"}}),a("div",{staticClass:"v-h-u-name"},[e._v(e._s(e.$store.getters.userName))]),a("div",{staticClass:"v-h-u-vid"},[a("span",[e._v("ID:")]),e._v("\n          "+e._s(e.$store.getters.virUid||"暂未定义")+"\n          "),e.$store.state.user.basicsData&&!e.$store.state.user.basicsData.vir_uid_updated?a("router-link",{attrs:{to:{name:"profile",query:{from:"home_edit_vir_uid"}}}},[e._v("前往设置")]):e._e()],1),e.$store.state.user.basicsData?a("div",{staticClass:"v-h-u-data"},[a("span",[e._v("\n            已创建\n            "),a("router-link",{attrs:{to:{name:"myApps",query:{from:"home"}}}},[e._v(e._s(e.$store.state.user.basicsData.have_app_count||0))]),e._v(" 个应用\n          ")],1),a("span",[e._v("于"+e._s(e.$store.state.user.basicsData.created.substring(0,10)||"--")+"注册")])]):e._e()],1),e._m(0)]),a("div",{staticClass:"v-home-c"},[a("div",{staticClass:"v-h-app-cards"},[a("h3",{staticClass:"v-home-box-title"},[e._v("我的应用")]),e._l(e.$store.getters.myApps,(function(t,s){return a("router-link",{key:s,staticClass:"v-h-app-card",attrs:{to:{name:"appDetail",params:{slug:t.slug}},title:t.name}},[a("div",{staticClass:"v-app-icon"},[t.icon?a("img",{staticClass:"v-app-icon-img",attrs:{src:t.icon,alt:"app icon"}}):a("i",{staticClass:"v-app-icon-text"},[e._v(e._s(t.name.substr(0,1)))])]),a("div",{staticClass:"v-h-app-info"},[a("div",{staticClass:"v-h-app-name"},[e._v(e._s(t.name||"--"))]),a("div",{staticClass:"v-h-app-data"},[a("a-icon",{attrs:{type:"api"}}),e._v("\n              "+e._s(t.api_count||0)+"\n              "),a("span",[e._v(e._s(t.created))])],1)])])}))],2),a("a-empty",{attrs:{description:"暂无更多内容"}})],1)]),a("Footer")],1)},Ie=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"v-home-sponsor-box"},[s("h3",{staticClass:"v-home-box-title"},[e._v("赞助支持")]),s("p",[e._v("若您觉得本平台有为你提供帮助，可随意打赏表示支持哦~")]),s("div",{staticClass:"v-h-sponsor-list"},[s("div",{staticClass:"v-h-sponsor-item"},[s("img",{attrs:{src:a("fd82"),alt:"支付宝打赏"}}),s("p",{staticStyle:{color:"#019fe8"}},[e._v("支付宝打赏赞助")])]),s("div",{staticClass:"v-h-sponsor-item"},[s("img",{attrs:{src:a("9c7a"),alt:"微信打赏"}}),s("p",{staticStyle:{color:"#22ab39"}},[e._v("微信打赏赞助")])])])])}],Oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a-layout-footer",{staticClass:"v-footer-layout"},[s("div",{staticClass:"v-footer-group"},[s("dl",[s("dt",[e._v("联系方式")]),s("dd",[e._v("\n        Email:\n        "),s("span",[s("a",{attrs:{href:"mailto:virapi@outlook.com"}},[e._v("virapi@outlook.com")])])]),s("dd",[e._v("\n        Gitter:\n        "),s("span",[s("a",{attrs:{href:"https://gitter.im/bluvenr",target:"_blank",rel:"noopener noreferrer"}},[e._v("bluvenr")])]),e._v("\n        |\n        "),s("span",[s("a",{attrs:{href:"https://gitter.im/virapi",target:"_blank",rel:"noopener noreferrer"}},[e._v("virapi")])])]),s("dd",[e._v("\n        GitHub:\n        "),s("span",[s("a",{attrs:{href:"https://github.com/virapi",target:"_blank",rel:"noopener noreferrer"}},[e._v("github.com/virapi")])])])]),s("dl",[s("dt",[e._v("其他")]),s("dd",[s("a",{attrs:{href:"https://www.virapi.com/about.html",target:"_blank"}},[e._v("关于本站")])]),s("dd",[s("a",{attrs:{href:"https://www.virapi.com/terms.html",target:"_blank"}},[e._v("条款声明")])]),s("dd",[s("a",{attrs:{href:"https://gitter.im/virapi/feedback",target:"_blank",rel:"noopener noreferrer"}},[e._v("意见反馈")])]),s("dd",[s("a",{attrs:{href:"https://www.virapi.com/links.html",target:"_blank"}},[e._v("友情链接")])]),s("dd",[s("a",{attrs:{href:"https://www.virapi.com/contactus.html",target:"_blank"}},[e._v("合作洽谈")])])]),s("dl",[s("dt",[e._v("产品服务")]),s("dd",[s("a",{attrs:{href:"https://www.virapi.com/"}},[e._v("VirApi")]),e._v(" - 在线虚拟数据云接口平台\n      ")])]),s("dl",{staticClass:"v-footer-sponsor-box"},[s("dt",[e._v("\n        赞助捐赠\n        "),s("small",[e._v("(请备注virapi)")])]),s("dd",{staticClass:"v-footer-sponsor-item"},[s("img",{attrs:{src:a("fd82"),alt:"支付宝赞助"}}),s("span",{staticStyle:{color:"#019fe8"}},[e._v("支付宝赞助捐赠")])]),s("dd",{staticClass:"v-footer-sponsor-item"},[s("img",{attrs:{src:a("9c7a"),alt:"微信赞助"}}),s("span",{staticStyle:{color:"#22ab39"}},[e._v("微信赞助捐赠")])])])]),s("div",{staticClass:"v-footer-info"},[s("span",[e._v("\n      Copyright © 2019"+e._s(e.newYear>2019?"~"+e.newYear:"")+"\n      "),s("a",{attrs:{href:"https://github.com/bluvenr",target:"_blank"}},[e._v("Bluven")]),e._v(". All Rights Reserved.\n    ")]),s("span",[e._v("Version "+e._s(e.appVersion||"--"))]),s("a",{attrs:{href:"https://github.com/bluvenr/open_virapi",target:"_blank"}},[s("a-icon",{attrs:{type:"github"}})],1)])])},Ve=[],Te={data:function(){return{newYear:(new Date).getFullYear(),appVersion:"0.0.3"}}},Me=Te,Fe=(a("b332"),Object(Y["a"])(Me,Oe,Ve,!1,null,null,null)),Ue=Fe.exports,qe={name:"home",components:{Footer:Ue},data:function(){return{}},created:function(){this._initLoad()},methods:{_initLoad:function(){}},beforeDestroy:function(){}},je=qe,Re=(a("de16"),Object(Y["a"])(je,Ee,Ie,!1,null,null,null)),Ne=Re.exports,He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-full-layout"},[a("div",{staticClass:"v-login-content"},[e._m(0),e._m(1),a("a-form",{staticClass:"v-login-form",attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["account",{rules:[{required:!0,message:"登录账号不能为空！"}]}],expression:"[\n            'account',\n            { rules: [{ required: true, message: '登录账号不能为空！' }] },\n          ]"}],attrs:{placeholder:"登录账号"}},[a("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入登录密码！"}]}],expression:"[\n            'password',\n            { rules: [{ required: true, message: '请输入登录密码！' }] },\n          ]"}],attrs:{type:"password",placeholder:"登录密码"}},[a("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),a("a-form-item",[a("a-button",{attrs:{type:"primary","html-type":"submit",block:"",loading:e.loading}},[e._v("登 录")])],1)],1),a("div",{staticClass:"v-login-footer"},[a("span",[e._v("\n        Copyright © 2019"+e._s(e.newYear>2019?"-"+e.newYear:"")+"\n        "),a("a",{attrs:{href:"https://github.com/bluvenr",target:"_blank"}},[e._v("Bluven")]),e._v(". All Rights Reserved.\n      ")]),a("span",[e._v("Version "+e._s(e.appVersion||"--"))]),a("a",{attrs:{href:"https://github.com/bluvenr/open_virapi",target:"_blank"}},[a("a-icon",{attrs:{type:"github"}})],1)])],1)])},Be=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{staticClass:"v-login-home-link",attrs:{href:"https://www.virapi.com/",target:"_blank"}},[s("img",{attrs:{src:a("a608"),alt:"VirAPI"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h2",[e._v("\n      欢迎使用\n      "),a("span",[e._v("VirAPI")]),e._v(" 开源版\n      "),a("p",[e._v("\n        由\n        "),a("a",{attrs:{href:"http://www.virapi.com/",target:"_blank"}},[e._v("www.virapi.com")]),e._v(" 提供\n      ")])])}],Pe={name:"login",data:function(){return{newYear:(new Date).getFullYear(),appVersion:"0.0.3",loading:!1}},beforeCreate:function(){this.form=this.$form.createForm(this)},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){e||(t.loading=!0,t.$store.dispatch("handleLogin",a).then((function(){t.$router.push({name:"home"})})).catch((function(e){t.$notification.error({message:"登录失败",description:"抱歉，登录失败，请重新再试~~ Err:".concat(e.message)}),t.loading=!1})))}))}},beforeDestroy:function(){}},ze=Pe,Qe=(a("4fde"),Object(Y["a"])(ze,He,Be,!1,null,null,null)),Ge=Qe.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-spin",{staticClass:"v-app-list-layout",attrs:{tip:"加载中...",spinning:e.pageLoading}},[a("header",{staticClass:"v-app-list-header v-list-content"},[a("h4",[e._v("\n      我的应用\n      "),a("small",[e._v("("+e._s(e.myApps.length)+")")])]),a("router-link",{staticClass:"ant-btn ant-btn-primary",attrs:{to:{name:"appCreate"}}},[a("a-icon",{attrs:{type:"plus-square"}}),a("span",[e._v("新建应用")])],1)],1),a("div",{staticClass:"v-options-group v-list-content"},[a("a-input-search",{attrs:{placeholder:"搜索我的应用"},on:{change:e.filterSortAppList},model:{value:e.queryOptions.kw,callback:function(t){e.$set(e.queryOptions,"kw",t)},expression:"queryOptions.kw"}}),a("a-select",{on:{change:e.filterSortAppList},model:{value:e.queryOptions.sort,callback:function(t){e.$set(e.queryOptions,"sort",t)},expression:"queryOptions.sort"}},[a("a-select-option",{attrs:{value:"update_desc"}},[a("a-icon",{attrs:{type:"arrow-down"}}),e._v(" 最后更新时间降序\n      ")],1),a("a-select-option",{attrs:{value:"update_asc"}},[a("a-icon",{attrs:{type:"arrow-up"}}),e._v(" 最后更新时间升序\n      ")],1),a("a-select-option",{attrs:{value:"create_desc"}},[a("a-icon",{attrs:{type:"arrow-down"}}),e._v(" 创建时间降序\n      ")],1),a("a-select-option",{attrs:{value:"create_asc"}},[a("a-icon",{attrs:{type:"arrow-up"}}),e._v(" 创建时间升序\n      ")],1)],1)],1),a("div",{staticClass:"v-app-box v-list-content"},[e._l(e.appList,(function(t,s){return a("div",{key:s,staticClass:"v-app-item"},[a("router-link",{staticClass:"v-app-icon",attrs:{to:{name:"appDetail",params:{slug:t.slug}}}},[t.icon?a("img",{staticClass:"v-app-icon-img",attrs:{src:t.icon,alt:"app icon"}}):a("i",{staticClass:"v-app-icon-text"},[e._v(e._s(t.name.substr(0,1)))])]),a("div",{staticClass:"v-app-base"},[a("div",{staticClass:"v-app-info-top"},[a("router-link",{attrs:{to:{name:"appDetail",params:{slug:t.slug}}}},[e._v(e._s(t.name||"--"))])],1),a("div",{staticClass:"v-app-intro"},[e._v(e._s(t.describe))])]),a("div",{staticClass:"v-app-data"},[a("router-link",{attrs:{to:{name:"apiList",params:{slug:t.slug}}}},[a("a-tooltip",{attrs:{placement:"top",title:"对应接口数"}},[a("template",{slot:"title"},[a("span",[e._v("对应接口数")])]),a("a-icon",{attrs:{type:"api"}}),e._v("\n            "+e._s(t.api_count||0)+"\n          ")],2)],1)],1),a("div",{staticClass:"v-app-time"},[a("a-tooltip",{attrs:{placement:"topRight"}},[a("template",{slot:"title"},[a("span",[e._v("最后更新时间："+e._s(e.dateFormat(t.updated)))])]),a("span",[e._v(e._s(e.amityDateFormat(t.updated)))])],2)],1)],1)})),e.appList&&0!=e.appList.length?e._e():a("div",{staticClass:"v-app-empty"},[a("a-empty",{attrs:{description:e.myApps&&e.myApps.length>0?"未找到满足相关条件的应用":"无相关应用"}})],1)],2),a("Footer")],1)},Ze=[],We=(a("55dd"),a("e814")),Ke=a.n(We);a("3b2b"),a("a481");function Je(e,t){if(null==e||void 0==e)return"";e=new Date(e);var a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),S:e.getMilliseconds()};for(var s in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[s]:("00"+a[s]).substr((""+a[s]).length)));return t}function Xe(e){var t,a=(new Date).getTime();return a=Ke()((a-new Date(e))/1e3),a<600?"刚刚":a<3600&&a>=600?(t=Math.floor(a/60),t+"分钟前"):a<86400&&a>=3600?(t=Math.floor(a/60/60),t+"小时前"):a<259200&&a>=86400?(t=Math.floor(a/60/60/24),t+"天前"):Je(e,"yyyy-MM-dd")}var et={components:{Footer:Ue},data:function(){return{message:[],myApps:[],appList:[],pageLoading:!0,queryOptions:{kw:"",sort:"update_desc"}}},created:function(){this._initLoad()},methods:{amityDateFormat:Xe,_initLoad:function(){var e=this;ce(this.$route.params.slug).then((function(t){e.myApps=t.data,e.filterSortAppList(),e.pageLoading=!1})).catch((function(t){e.$message.error(t.message)}))},dateFormat:function(e){return Je(e,"yyyy-MM-dd hh:mm:ss")},filterSortAppList:function(){var e=this,t=this.queryOptions.kw.trim();this.appList=this.myApps.filter((function(e){return e.name.indexOf(t)>-1||e.describe.indexOf(t)>-1})).sort((function(t,a){return"update_desc"==e.queryOptions.sort?new Date(a.updated).getTime()-new Date(t.updated).getTime():"update_asc"==e.queryOptions.sort?new Date(t.updated).getTime()-new Date(a.updated).getTime():"create_desc"==e.queryOptions.sort?new Date(a.created).getTime()-new Date(t.created).getTime():"create_asc"==e.queryOptions.sort?new Date(t.created).getTime()-new Date(a.created).getTime():0}))}}},tt=et,at=(a("0259"),Object(Y["a"])(tt,Ye,Ze,!1,null,null,null)),st=at.exports,it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-layout",{attrs:{id:"v-app-layout"}},[a("a-layout-sider",{attrs:{collapsible:"",theme:"light"},model:{value:e.collapsed,callback:function(t){e.collapsed=t},expression:"collapsed"}},[a("div",{staticClass:"v-app-now"},[a("a-select",{attrs:{showSearch:"",value:e.$route.params.slug,placeholder:"选择要操作的应用",optionFilterProp:"children",filterOption:e.filterOption},on:{change:e.switchAppHandle}},e._l(e.$store.getters.myApps,(function(t,s){return a("a-select-option",{key:s,attrs:{value:t.slug}},[t.icon?a("img",{staticClass:"v-app-icon-img v-app-m-icon",attrs:{src:t.icon,alt:"app icon"}}):a("i",{staticClass:"v-app-icon-text v-app-m-icon"},[e._v(e._s(t.name.substr(0,1)))]),a("span",{staticClass:"v-app-m-name"},[e._v(e._s(t.name))])])})),1)],1),a("a-menu",{attrs:{theme:"light",selectedKeys:[e.$route.name],openKeys:e.openMenuKeys,mode:"inline"},on:{"update:openKeys":function(t){e.openMenuKeys=t},"update:open-keys":function(t){e.openMenuKeys=t}}},[a("a-menu-item",{key:"appDetail"},[a("router-link",{attrs:{to:{name:"appDetail",params:{slug:e.$route.params.slug}}}},[a("a-icon",{attrs:{type:"home"}}),a("span",[e._v("应用信息")])],1)],1),a("a-menu-item",{key:"apiList"},[a("router-link",{attrs:{to:{name:"apiList",params:{slug:e.$route.params.slug}}}},[a("a-icon",{attrs:{type:"api"}}),a("span",[e._v("所有接口")])],1)],1),a("a-menu-item",{key:"apiDebug"},[a("router-link",{attrs:{to:{name:"apiDebug",params:{slug:e.$route.params.slug}}}},[a("a-icon",{attrs:{type:"code"}}),a("span",[e._v("接口测试")])],1)],1),a("a-menu-item",{key:"appLog"},[a("router-link",{attrs:{to:{name:"appLog",params:{slug:e.$route.params.slug}}}},[a("a-icon",{attrs:{type:"file"}}),a("span",[e._v("请求日志")])],1)],1),a("a-menu-item",{key:"appStatistics"},[a("router-link",{attrs:{to:{name:"appStatistics",params:{slug:e.$route.params.slug}}}},[a("a-icon",{attrs:{type:"line-chart"}}),a("span",[e._v("数据统计")])],1)],1),a("a-sub-menu",{key:"management"},[a("span",{attrs:{slot:"title"},slot:"title"},[a("a-icon",{attrs:{type:"setting"}}),a("span",[e._v("管理")])],1),a("a-menu-item",{key:"basicSetting"},[a("router-link",{attrs:{to:{name:"basicSetting",params:{slug:e.$route.params.slug}}}},[a("span",[e._v("应用设置")])])],1),a("a-menu-item",{key:"otherSetting"},[a("router-link",{attrs:{to:{name:"otherSetting",params:{slug:e.$route.params.slug}}}},[a("span",[e._v("高级操作")])])],1)],1)],1)],1),a("a-layout",{style:{marginLeft:e.collapsed?"80px":"200px"}},[e.warningMsg?a("a-alert",{attrs:{message:e.warningMsg,type:"warning",closable:"",showIcon:""}}):e._e(),a("a-breadcrumb",[a("a-breadcrumb-item",[a("router-link",{attrs:{to:"/"}},[a("a-icon",{attrs:{type:"home"}})],1)],1),a("a-breadcrumb-item",[a("router-link",{attrs:{to:"/apps"}},[e._v("我的应用")])],1),e.$route.params.slug?a("a-breadcrumb-item",[a("router-link",{attrs:{to:"/app/"+e.$route.params.slug}},[e._v(e._s(e.nowApplication?e.nowApplication.name:e.$route.params.slug))])],1):e._e(),e.$route.params.slug&&e.$route.meta.title?a("a-breadcrumb-item",[e._v(e._s(e.$route.meta.title||"--"))]):e._e()],1),a("a-layout-content",[a("router-view")],1),a("Footer")],1)],1)},nt=[],rt={components:{Footer:Ue},data:function(){return{collapsed:!1,warningMsg:null,openMenuKeys:[],nowApplication:null}},watch:{$route:function(e,t){this.openMenuKeys=e.meta.subKey?[e.meta.subKey]:[],this._initLoad()}},created:function(){this.openMenuKeys=this.$route.meta.subKey?[this.$route.meta.subKey]:[],this._initLoad()},methods:{_initLoad:function(){var e=this,t=this.$store.getters.myApps?this.$store.getters.myApps.filter((function(t){return t.slug==e.$route.params.slug})):null;this.nowApplication=t&&t.length>0?t[0]:null},switchAppHandle:function(e){this.$router.push({name:this.$route.name,params:{slug:e}})},filterOption:function(e,t){return t.componentOptions.children[1].elm.textContent.toLowerCase().indexOf(e.toLowerCase())>=0}}},ot=rt,lt=(a("e7c0"),Object(Y["a"])(ot,it,nt,!1,null,null,null)),pt=lt.exports,ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-spin",{staticClass:"v-layout-content",attrs:{tip:"加载中...",spinning:e.pageLoading}},[a("header",{staticClass:"v-app-detail-header"},[a("div",{staticClass:"v-line-box v-app-info-header"},[a("div",{staticClass:"v-app-icon"},[e.appInfo.icon?a("img",{staticClass:"v-app-icon-img",attrs:{src:e.appInfo.icon,alt:"app icon"}}):a("i",{staticClass:"v-app-icon-text"},[e._v(e._s(e.appInfo.name.substr(0,1)))])]),a("div",{staticClass:"v-app-base-info"},[a("div",{staticClass:"v-base-info-top"},[a("h1",[e._v(e._s(e.appInfo.name||"--"))]),a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[e._v("可见类型："+e._s(e.appInfo.visibilityLevel||"--"))])]),"private"==e.appInfo.visibility_level?a("a-icon",{attrs:{type:"lock"}}):"internal"==e.appInfo.visibility_level?a("a-icon",{attrs:{type:"unlock"}}):"public"==e.appInfo.visibility_level?a("a-icon",{attrs:{type:"global"}}):e._e()],2)],1),a("div",{staticClass:"v-base-info-bottom"},[a("span",[e._v("slug:")]),e._v("\n          "+e._s(e.appInfo.slug||"--")+"  \n          "),a("span",[e._v("编号:")]),e._v("\n          "+e._s(e.appInfo.number||"--")+"\n        ")])]),a("div",{staticClass:"v-app-operate"},[a("router-link",{staticClass:"ant-btn ant-btn-default",attrs:{to:{name:"basicSetting",params:{slug:e.$route.params.slug},query:{type:"base"}}}},[a("a-icon",{attrs:{type:"edit"}}),a("span",[e._v("编辑")])],1),a("router-link",{staticClass:"ant-btn ant-btn-primary",attrs:{to:{name:"apiCreate",query:{slug:e.$route.params.slug,app_id:e.appInfo._id}}}},[a("a-icon",{attrs:{type:"plus"}}),a("span",[e._v("新增接口")])],1)],1)]),a("div",{staticClass:"v-app-intro"},[a("p",[e._v(e._s(e.appInfo.describe||"无对应应用简介"))]),a("ul",{staticClass:"v-app-date"},[a("li",[e._v("\n          当前API数量：\n          "),a("router-link",{attrs:{to:{name:"apiList",params:{slug:e.$route.params.slug}}}},[e._v(e._s(e.appInfo.api_count||0))])],1),a("li",[e._v("创建时间："+e._s(e.appInfo.created?e.dateFormat(e.appInfo.created):"--"))]),a("li",[e._v("最后更新时间："+e._s(e.appInfo.updated?e.dateFormat(e.appInfo.updated):"--"))])])])]),a("div",{staticClass:"v-app-detail-content"},[a("div",{staticClass:"v-detail-item-box v-line-item-box"},[a("h3",[e._v("应用API网址：")]),a("code",[e._v(e._s(""+(e.app_api_request_uri||"--/")+e.$store.getters.virUid+"/"+(e.appInfo.slug||"--")))]),a("a",{staticClass:"v-copy-tag",staticStyle:{"margin-left":"10px"},attrs:{title:"复制到粘贴板"},on:{click:function(t){return e.copyTextHandle(""+(e.app_api_request_uri||"--/")+e.$store.getters.virUid+"/"+(e.appInfo.slug||"--"))}}},[a("a-icon",{attrs:{type:"copy"}})],1)]),a("div",{staticClass:"v-detail-item-box v-line-item-box"},[a("h3",[e._v("验证方式：")]),a("span",[e._v("\n        "+e._s(e.verifyRuleMap[e.appInfo.verify_rule]||"未知验证方式")+"\n        "),a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("p",[a("b",[e._v("请求头部Token验证：")]),e._v("请求头部Header中附带一个名为【app-token】的报文数据；\n            ")]),a("p",[a("b",[e._v("请求参数Token验证：")]),e._v("请求路由请求参数中附带一个名为【_token】的GET请求参数；\n            ")]),a("p",[a("b",[e._v("兼容模式验证：")]),e._v("兼容请求头部和请求参数验证规则，优先从请求头部中获取验证Token，若无则再从请求参数中获取。\n            ")])]),a("a-icon",{attrs:{type:"info-circle"}})],2)],1)]),a("div",{staticClass:"v-detail-item-box"},[a("h3",[e._v("\n        APP KEY\n        "),a("a-tooltip",{attrs:{placement:"top",title:"即请求应用虚拟接口验证权限的Token"}},[a("a-icon",{attrs:{type:"info-circle"}})],1),e._v("：\n        "),a("a-button",{attrs:{type:"dashed",icon:"redo",size:"small"},on:{click:e.changeAppKeyHandle}},[e._v("更换")])],1),a("a-input",{attrs:{placeholder:"APP访问凭证key",disabled:""},model:{value:e.appInfo.app_key,callback:function(t){e.$set(e.appInfo,"app_key",t)},expression:"appInfo.app_key"}},[a("a",{staticClass:"v-copy-tag",attrs:{slot:"addonAfter"},on:{click:function(t){return e.copyTextHandle(e.appInfo.app_key)}},slot:"addonAfter"},[a("a-icon",{attrs:{type:"copy"}}),e._v(" 复制\n        ")],1)])],1),a("div",{staticClass:"v-detail-item-box"},[a("h3",[e._v("请求响应模板结构：")]),a("div",{staticClass:"v-pre-box"},[a("label",[e._v("\n          最终结构示例(\n          "),a("b",[e._v("请求成功")]),e._v(")：\n        ")]),a("pre",[e._v(e._s(e.responseSucceed))]),a("label",[e._v("\n          最终结构示例(\n          "),a("b",[e._v("请求失败")]),e._v(")：\n        ")]),a("pre",[e._v(e._s(e.responseFailed))])])])])])},ut=[],dt=a("b311"),mt=a.n(dt),vt={data:function(){return{app_api_request_uri:"/api/",responseSucceed:null,responseFailed:null,pageLoading:!0,appInfo:{_id:null,icon:null,name:"",slug:null,describe:null},verifyRuleMap:{header:"请求头部Token验证",param:"请求参数Token验证",compatible:"兼容模式验证"}}},watch:{$route:function(e,t){this.pageLoading=!0,this._initLoad()}},created:function(){this._initLoad()},mounted:function(){},methods:{_initLoad:function(){var e=this;de(this.$route.params.slug).then((function(t){e.appInfo=t.data,e._initResponseData(t.data.response_template),e.pageLoading=!1})).catch((function(t){e.$message.error(t.message)}))},_initResponseData:function(e){this.responseSucceed={},this.responseSucceed[e.code_name]=e.succeed_code_value,this.responseSucceed[e.message_name]=e.succeed_message_value,this.responseSucceed[e.data_name]={id:1,name:"virapi"},this.responseFailed={},this.responseFailed[e.code_name]=e.failed_code_value,this.responseFailed[e.message_name]=e.failed_message_value},dateFormat:function(e){return Je(e,"yyyy-MM-dd hh:mm:ss")},copyTextHandle:function(e){var t=this,a=new mt.a(".v-copy-tag",{text:function(){return e}});a.on("success",(function(e){t.$message.success("复制成功"),a.destroy()})),a.on("error",(function(e){t.$message.error("该浏览器不支持自动复制"),a.destroy()}))},changeAppKeyHandle:function(){var e=this;this.$confirm({title:"确定更换app key？",content:"更换后原app key将立即失效；若更换后请立即更换您原应用系统请求的app key，否则将无法成功请求接口获取数据。",maskClosable:!0,okType:"danger",okText:"确定更换",cancelText:"取消",onOk:function(){ge(e.appInfo._id).then((function(t){e.appInfo.app_key=t.data,e.$message.success("appkey更换成功")})).catch((function(t){e.$message.error(t.message)}))},onCancel:function(){console.log("Cancel")}})}}},ft=vt,ht=(a("9ed5"),Object(Y["a"])(ft,ct,ut,!1,null,null,null)),gt=ht.exports,_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-main-body"},[a("div",{staticClass:"v-create-body"},[a("div",{staticClass:"v-introduce"},[a("h2",[e._v("新建应用")]),a("p",[e._v("应用创建成功后，即可在该应用下创建您所需要的API。")]),a("p",[e._v("当前系统默认每个账号下最多创建"+e._s(e.$store.state.user.basicsData.max_app_count)+"个应用，更多开放敬请期待！")]),e._m(0),e._m(1)]),a("div",{staticClass:"v-form"},[a("a-form",{attrs:{form:e.appForm,hideRequiredMark:""},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"应用名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{validateTrigger:["blur"],rules:[{required:!0,whitespace:!0,message:"应用名不能为空"},{min:2,message:"应用名长度必须在2至36个字符以内"},{max:36,message:"应用名长度必须在2至36个字符以内"}],getValueFromEvent:e.disposeValueHandle}],expression:"['name', {\n              validateTrigger: ['blur'],\n              rules: [\n                { required: true, whitespace:true, message: '应用名不能为空' },\n                {min:2, message:'应用名长度必须在2至36个字符以内'},\n                {max:36, message:'应用名长度必须在2至36个字符以内'}\n              ],\n              getValueFromEvent: disposeValueHandle}]"}],attrs:{placeholder:"请输入应用名"},on:{blur:e.blurAppNameHandle}})],1),a("a-form-item",{attrs:{label:"应用API网址"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["slug",{validateTrigger:["blur"],rules:[{required:!0,whitespace:!0,message:"应用标识码不能为空"},{pattern:/^[\w\-\.]{2,20}$/,message:"应用标识必须由2至20个大小写字母、数字、下划线(_)、中划线(-)、英文句号(.)这些字符组成"}],getValueFromEvent:e.disposeValueHandle}],expression:"['slug', {\n              validateTrigger: ['blur'],\n              rules: [\n                { required: true, whitespace:true, message: '应用标识码不能为空' },\n                { pattern: /^[\\w\\-\\.]{2,20}$/, message: '应用标识必须由2至20个大小写字母、数字、下划线(_)、中划线(-)、英文句号(.)这些字符组成' }\n              ],\n              getValueFromEvent: disposeValueHandle\n            }]"}],attrs:{placeholder:"请输入应用标识"}},[a("span",{attrs:{slot:"addonBefore"},slot:"addonBefore"},[e._v(e._s(e.app_api_request_uri||"--")+e._s(e.$store.getters.virUid)+"/")])])],1),a("a-form-item",{attrs:{label:"描述(可选)"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["describe",{rules:[{max:120,message:"最多120个字符"}]}],expression:"['describe', {rules: [\n              { max: 120, message: '最多120个字符' }\n            ]}]"}],attrs:{placeholder:"(可选)应用描述......",autoSize:{minRows:2,maxRows:6}}})],1),a("a-form-item",{attrs:{label:"应用图标(可选)",extra:"仅限上传jpg、png、gif格式，且大小不超过5m"}},[a("a-upload",{staticClass:"v-icon-uploader",attrs:{name:"logo",accept:"image/png, image/jpeg, image/gif",showUploadList:!1,beforeUpload:e.beforeUpload,listType:"picture-card"}},[e.iconBase64?a("img",{staticClass:"v-icon-preview",attrs:{src:e.iconBase64,alt:"logo"}}):a("div",[a("a-icon",{attrs:{type:"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v("选择上传")])],1)])],1),e.showOptions?a("div",{staticClass:"v-more-options-box"},[a("a-form-item",{attrs:{label:"请求验证规则"}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["verify_rule",{initialValue:"compatible",rules:[{required:!0,message:"请选择验证请求规则"}]}],expression:"['verify_rule', {\n                initialValue:'compatible',\n                rules: [{ required: true, message: '请选择验证请求规则' }]\n              }]"}]},[a("a-radio",{attrs:{value:"header"}},[e._v("\n                请求头部Token验证\n                "),a("a-tooltip",{attrs:{placement:"top",title:"请求头部Header中附带一个名为【app-token】的报文数据"}},[a("a-icon",{attrs:{type:"info-circle"}})],1)],1),a("a-radio",{attrs:{value:"param"}},[e._v("\n                请求参数Token验证\n                "),a("a-tooltip",{attrs:{placement:"top",title:"请求路由请求参数中附带一个名为【_token】的GET请求参数"}},[a("a-icon",{attrs:{type:"info-circle"}})],1)],1),a("a-radio",{attrs:{value:"compatible"}},[e._v("\n                兼容模式\n                "),a("a-tooltip",{attrs:{placement:"top",title:"兼容请求头部和请求参数验证规则，优先从请求头部中获取验证Token，若无则再从请求参数中获取"}},[a("a-icon",{attrs:{type:"info-circle"}})],1)],1)],1)],1),a("label",{staticClass:"v-options-group-label"},[e._v("自定义请求响应结构 :")]),a("div",{staticClass:"response-template-box"},[a("a-form-item",{staticClass:"v-more-options-group-item",attrs:{label:"状态码键名"}},[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["response_template.code_name",{initialValue:""+e.responseTemplate.code_name,rules:[{required:!0,message:"状态码键名不能为空"}],getValueFromEvent:e.disposeValueHandle}],expression:"['response_template.code_name', {\n                  initialValue:`${responseTemplate.code_name}`,\n                  rules: [{ required: true, message: '状态码键名不能为空' }],\n                  getValueFromEvent: disposeValueHandle\n                }]"}],staticStyle:{width:"200px"},attrs:{filterOption:"",placeholder:"输入或选择您要的状态码对应键名"}},[a("template",{slot:"dataSource"},[a("a-select-option",{key:"code"},[e._v("code")]),a("a-select-option",{key:"status"},[e._v("status")])],1)],2)],1),a("a-form-item",{staticClass:"v-more-options-group-item",attrs:{label:"请求成功状态码值"}},[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["response_template.succeed_code_value",{initialValue:""+e.responseTemplate.succeed_code_value,rules:[{required:!0,message:"请求成功状态码值不能为空"}],getValueFromEvent:e.disposeValueHandle}],expression:"['response_template.succeed_code_value', {\n                  initialValue:`${responseTemplate.succeed_code_value}`,\n                  rules: [{ required: true, message: '请求成功状态码值不能为空' }],\n                  getValueFromEvent: disposeValueHandle\n                }]"}],staticStyle:{width:"200px"},attrs:{filterOption:"",placeholder:"输入或选择您要的请求成功状态码值"}},[a("template",{slot:"dataSource"},[a("a-select-option",{key:"200"},[e._v("200")]),a("a-select-option",{key:"0"},[e._v("0")]),a("a-select-option",{key:"succeed"},[e._v("succeed")])],1)],2)],1),a("a-form-item",{staticClass:"v-more-options-group-item",attrs:{label:"请求失败状态码值"}},[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["response_template.failed_code_value",{initialValue:""+e.responseTemplate.failed_code_value,rules:[{required:!0,message:"请求失败状态码值不能为空"}],getValueFromEvent:e.disposeValueHandle}],expression:"['response_template.failed_code_value', {\n                  initialValue:`${responseTemplate.failed_code_value}`,\n                  rules: [{ required: true, message: '请求失败状态码值不能为空' }],\n                  getValueFromEvent: disposeValueHandle\n                }]"}],staticStyle:{width:"200px"},attrs:{filterOption:"",placeholder:"输入或选择您要的请求失败状态码值"}},[a("template",{slot:"dataSource"},[a("a-select-option",{key:"1000"},[e._v("1000")]),a("a-select-option",{key:"failed"},[e._v("failed")])],1)],2)],1),a("a-form-item",{staticClass:"v-more-options-group-item",attrs:{label:"响应描述键名"}},[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["response_template.message_name",{initialValue:""+e.responseTemplate.message_name,rules:[{required:!0,message:"响应描述键名不能为空"}],getValueFromEvent:e.disposeValueHandle}],expression:"['response_template.message_name', {\n                  initialValue:`${responseTemplate.message_name}`,\n                  rules: [{ required: true, message: '响应描述键名不能为空' }],\n                  getValueFromEvent: disposeValueHandle\n                }]"}],staticStyle:{width:"200px"},attrs:{filterOption:"",placeholder:"输入或选择您要的响应描述键名"}},[a("template",{slot:"dataSource"},[a("a-select-option",{key:"message"},[e._v("message")]),a("a-select-option",{key:"msg"},[e._v("msg")]),a("a-select-option",{key:"info"},[e._v("info")])],1)],2)],1),a("a-form-item",{staticClass:"v-more-options-group-item",attrs:{label:"请求成功默认描述"}},[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["response_template.succeed_message_value",{initialValue:""+e.responseTemplate.succeed_message_value,rules:[{required:!0,message:"请求成功默认描述不能为空"}]}],expression:"['response_template.succeed_message_value', {\n                  initialValue:`${responseTemplate.succeed_message_value}`,\n                  rules: [{ required: true, message: '请求成功默认描述不能为空' }]\n                }]"}],staticStyle:{width:"200px"},attrs:{filterOption:"",placeholder:"输入或选择您要的请求成功默认描述"}},[a("template",{slot:"dataSource"},[a("a-select-option",{key:"Succeed"},[e._v("Succeed")])],1)],2)],1),a("a-form-item",{staticClass:"v-more-options-group-item",attrs:{label:"请求失败默认描述"}},[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["response_template.failed_message_value",{initialValue:""+e.responseTemplate.failed_message_value,rules:[{required:!0,message:"请求失败默认描述不能为空"}]}],expression:"['response_template.failed_message_value', {\n                  initialValue:`${responseTemplate.failed_message_value}`,\n                  rules: [{ required: true, message: '请求失败默认描述不能为空' }]\n                }]"}],staticStyle:{width:"200px"},attrs:{filterOption:"",placeholder:"输入或选择您要的请求失败默认描述"}},[a("template",{slot:"dataSource"},[a("a-select-option",{key:"Failed"},[e._v("Failed")])],1)],2)],1),a("a-form-item",{staticClass:"v-more-options-group-item",attrs:{label:"请求响应目标数据键名"}},[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["response_template.data_name",{initialValue:""+e.responseTemplate.data_name,rules:[{required:!0,message:"请求响应目标数据键名不能为空"}],getValueFromEvent:e.disposeValueHandle}],expression:"['response_template.data_name', {\n                  initialValue:`${responseTemplate.data_name}`,\n                  rules: [{ required: true, message: '请求响应目标数据键名不能为空' }],\n                  getValueFromEvent: disposeValueHandle\n                }]"}],staticStyle:{width:"200px"},attrs:{filterOption:"",placeholder:"输入或选择您要的请求响应目标数据键名"}},[a("template",{slot:"dataSource"},[a("a-select-option",{key:"data"},[e._v("data")])],1)],2)],1),a("div",{staticClass:"v-pre-box"},[a("label",[e._v("\n                最终结构示例(\n                "),a("b",[e._v("请求成功")]),e._v(")：\n              ")]),a("pre",[e._v(e._s(e.responseSucceed))]),a("label",[e._v("\n                最终结构示例(\n                "),a("b",[e._v("请求失败")]),e._v(")：\n              ")]),a("pre",[e._v(e._s(e.responseFailed))])])],1)],1):e._e(),a("a-form-item",{staticStyle:{"padding-top":"20px"}},[a("a-button",{attrs:{type:"primary","html-type":"submit",loading:e.submitStatus}},[e._v("创建应用")]),a("a",{staticStyle:{float:"right","font-size":"12px"},attrs:{href:"javascript:;"},on:{click:function(t){e.showOptions=!e.showOptions}}},[e._v(e._s(e.showOptions?"隐藏":"显示")+"高级设置")])],1)],1)],1)]),a("Footer"),a("a-modal",{attrs:{title:"系统提示",footer:null,maskClosable:!1,closable:!1,keyboard:!1,width:"400px"},model:{value:e.showModel,callback:function(t){e.showModel=t},expression:"showModel"}},[a("p",[e._v("很遗憾当前系统每个账号最多可创建"+e._s(e.$store.state.user.basicsData.max_app_count)+"个应用，您当前已创建"+e._s(e.$store.state.user.basicsData.have_app_count)+"个应用，无法再创建更多新的应用。")]),a("p",[e._v("后期会根据系统用户总体需求进行调整，敬请期待~~")]),a("p",[e._v("\n      若您当前真的有需要想创建更多新的应用，可尝试\n      "),a("router-link",{attrs:{to:""}},[e._v("联系我")]),e._v("。\n    ")],1),a("a-button",{staticClass:"v-model-btn",attrs:{type:"primary",icon:"rollback"},on:{click:function(t){return e.$router.back(-1)}}},[e._v("返回上一页")])],1)],1)},bt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v("\n        若是第一次使用，或不知道如何新建应用，可点击这里查看\n        "),a("a",{attrs:{href:"https://virapi.com/article/xsrm01-cjyy.html",target:"_blank"}},[e._v("新手快速入门")]),e._v("。\n      ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("strong",[e._v("注意：")]),e._v("请遵守本平台的规范及相关法律法规，若发现应用存在违规情况，平台将会直接冻结清除；严重的将禁封账号。\n      ")])}],yt=a("db0c"),At=a.n(yt),xt=a("cebc"),kt=(a("4917"),a("5176")),wt=a.n(kt),Ct=a("d958"),$t=a.n(Ct);function St(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}function Dt(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:120;St(e,(function(e){Et(e,a,(function(e){Lt(e,(function(e){return t(e)}))}))}))}function Lt(e,t){var a=new Image;a.src=e,a.onload=function(){var e=document.createElement("canvas"),a=e.getContext("2d"),s=Math.min(this.width,this.height);e.width=s,e.height=s,a.drawImage(this,(this.width-s)/2,(this.height-s)/2,s,s,0,0,s,s);var i=e.toDataURL("image/jpeg",1);t&&t(i)}}function Et(e,t,a){var s=new Image;s.src=e,s.onload=function(){var e=document.createElement("canvas"),s=e.getContext("2d"),i=Math.min(this.width,this.height,t);if(i==t){var n=this.width/this.height;this.width>this.height?(e.width=i*n,e.height=i):(e.width=i,e.height=i/n)}else e.width=this.width,e.height=this.height;s.drawImage(this,0,0,e.width,e.height);var r=e.toDataURL("image/jpeg",1);a&&a(r)}}var It={components:{Footer:Ue},data:function(){return{app_api_request_uri:"/api/",showOptions:!1,iconBase64:null,uploadLoading:!1,responseTemplate:{code_name:"code",succeed_code_value:200,failed_code_value:1e3,data_name:"data",message_name:"message",succeed_message_value:"Succeed",failed_message_value:"Failed"},responseSucceed:null,responseFailed:null,submitStatus:!1,showModel:!1}},beforeCreate:function(){var e=this;this.appForm=this.$form.createForm(this,{onValuesChange:function(t,a){if(a.response_template){var s=wt()(e.appForm.getFieldsValue().response_template,a.response_template);e._disposeIntegerStr(s),e._initResponseData(s)}}})},watch:{},created:function(){this.$store.state.user.basicsData.max_app_count<=this.$store.state.user.basicsData.have_app_count?this.showModel=!0:this._initResponseData(this.responseTemplate)},mounted:function(){},methods:{_initLoad:function(){},_initResponseData:function(e){this.responseSucceed={},this.responseSucceed[e.code_name]=e.succeed_code_value,this.responseSucceed[e.message_name]=e.succeed_message_value,this.responseSucceed[e.data_name]={id:1,name:"virapi"},this.responseFailed={},this.responseFailed[e.code_name]=e.failed_code_value,this.responseFailed[e.message_name]=e.failed_message_value},_disposeIntegerStr:function(e){return void 0!==e.succeed_code_value&&/^\d+$/.test(e.succeed_code_value)&&(e.succeed_code_value=Ke()(e.succeed_code_value)),void 0!==e.failed_code_value&&/^\d+$/.test(e.failed_code_value)&&(e.failed_code_value=Ke()(e.failed_code_value)),e},blurAppNameHandle:function(e){var t=e.target.value;t&&!this.appForm.getFieldsValue().slug&&(/[\u4e00-\u9fa5]/.test(t)&&(t=$t()(t,{style:$t.a.STYLE_NORMAL}).join("")),t=t.match(/[\w\-.]/g).join(""),this.appForm.setFieldsValue({slug:t}))},disposeValueHandle:function(e){if(!e||!e.target)return e.trim();var t=e.target;return"checkbox"===t.type?t.checked:t.value.trim()},handleSubmit:function(e){var t=this;e.preventDefault(),this.appForm.validateFieldsAndScroll((function(e,a){e||(a.response_template&&t._disposeIntegerStr(a.response_template),t.iconBase64&&(a.icon=t.iconBase64),t.submitStatus=!0,ve(a).then((function(e){t.submitStatus=!1,t.$message.success("应用创建成功"),t.$store.dispatch("handleUpdateMyApps");var a=Object(xt["a"])({},t.$store.state.user.basicsData);a.have_app_count++,t.$store.dispatch("handleUserBasicsData",a),t.appForm.resetFields(),t.$router.push({name:"appDetail",params:{slug:e.data.slug}})})).catch((function(e){t.submitStatus=!1,t.$message.error(e.message)})))}))},beforeUpload:function(e){var t=this,a=e.size/1024/1024<5;return a?(Dt(e,(function(e){t.iconBase64=e})),!1):(this.$message.error("图片不能超过5M"),!1)}},beforeRouteLeave:function(e,t,a){At()(this.appForm.getFieldsValue(["name","slug","describe"])).filter((function(e){return e&&e.trim()>0})).length>0?this.$confirm({title:"温馨提示",content:"当前页面数据尚未保存，确定要离开该页面？",okText:"确定离开",cancelText:"留在本页",onOk:function(){a()},onCancel:function(){a(!1)}}):a()}},Ot=It,Vt=(a("58bc"),Object(Y["a"])(Ot,_t,bt,!1,null,null,null)),Tt=Vt.exports,Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-spin",{staticClass:"v-layout-content v-api-content",attrs:{tip:"加载中...",spinning:e.pageLoading}},[a("header",{staticClass:"v-api-page-header"},[a("div",{staticClass:"v-line-box v-app-info-header"},[a("div",{staticClass:"v-app-icon"},[e.appInfo.icon?a("img",{staticClass:"v-app-icon-img",attrs:{src:e.appInfo.icon,alt:"app icon"}}):a("i",{staticClass:"v-app-icon-text"},[e._v(e._s(e.appInfo.name.substr(0,1)||"--"))])]),a("div",{staticClass:"v-app-base-info"},[a("div",{staticClass:"v-base-info-top"},[a("h1",[e._v(e._s(e.appInfo.name||"--"))])]),a("div",{staticClass:"v-base-info-bottom"},[a("span",[e._v("Number:")]),e._v("\n          "+e._s(e.appInfo.number||"--")+"\n        ")])])]),a("div",{staticClass:"v-api-data"},[e._v("\n      总计\n      "),a("span",[e._v(e._s(e.appApis.length||e.appInfo.api_count||0))]),e._v("api，其中\n      "),a("span",[e._v(e._s(e.apiCountMap.get))]),e._v("GET api、\n      "),a("span",[e._v(e._s(e.apiCountMap.post))]),e._v("POST api、\n      "),a("span",[e._v(e._s(e.apiCountMap.put))]),e._v("PUT api、\n      "),a("span",[e._v(e._s(e.apiCountMap.delete))]),e._v("DELETE api；单应用最多可创建\n      "),a("span",[e._v(e._s(e.maxApiCount||"--"))]),e._v("api\n    ")])]),a("div",{staticClass:"v-api-content-box"},[a("div",{staticClass:"v-api-l-main"},[a("div",{staticClass:"v-api-list-header"},[a("h2",[e._v("\n          对应API列表\n          "),a("small",[e._v("("+e._s(e.appApis.length||0)+")")])]),a("router-link",{staticClass:"ant-btn ant-btn-primary",attrs:{to:{name:"apiCreate",query:{slug:e.$route.params.slug,app_id:e.appInfo._id}},disabled:e.maxApiCount&&e.appApis.length>=e.maxApiCount}},[a("a-icon",{attrs:{type:"plus"}}),a("span",[e._v("新增接口")])],1)],1),a("div",{staticClass:"v-options-group"},[a("a-input-search",{attrs:{placeholder:"API名称搜索"},on:{change:e.filterSortApiList},model:{value:e.queryOptions.kw,callback:function(t){e.$set(e.queryOptions,"kw",t)},expression:"queryOptions.kw"}}),a("a-select",{staticStyle:{width:"150px"},on:{change:e.filterSortApiList},model:{value:e.queryOptions.method,callback:function(t){e.$set(e.queryOptions,"method",t)},expression:"queryOptions.method"}},[a("a-select-option",{attrs:{value:"ALL"}},[e._v("全部")]),a("a-select-option",{attrs:{value:"GET"}},[e._v("GET请求接口")]),a("a-select-option",{attrs:{value:"POST"}},[e._v("POST请求接口")]),a("a-select-option",{attrs:{value:"PUT"}},[e._v("PUT请求接口")]),a("a-select-option",{attrs:{value:"DELETE"}},[e._v("DELETE请求接口")])],1),a("a-select",{on:{change:e.filterSortApiList},model:{value:e.queryOptions.sort,callback:function(t){e.$set(e.queryOptions,"sort",t)},expression:"queryOptions.sort"}},[a("a-select-option",{attrs:{value:"create_desc"}},[a("a-icon",{attrs:{type:"arrow-down"}}),e._v(" 创建时间降序\n          ")],1),a("a-select-option",{attrs:{value:"create_asc"}},[a("a-icon",{attrs:{type:"arrow-up"}}),e._v(" 创建时间升序\n          ")],1),a("a-select-option",{attrs:{value:"update_desc"}},[a("a-icon",{attrs:{type:"arrow-down"}}),e._v(" 最后更新时间降序\n          ")],1),a("a-select-option",{attrs:{value:"update_asc"}},[a("a-icon",{attrs:{type:"arrow-up"}}),e._v(" 最后更新时间升序\n          ")],1)],1)],1),e.appInfo._id?a("div",{staticClass:"v-api-list"},[e._l(e.apiList,(function(t,s){return a("ApiItem",{key:t._id,ref:"api_item_"+t._id,refInFor:!0,attrs:{"app-info":e.appInfo,"api-data":t,"api-index":s},on:{update:e.updateApiHandle,del:e.delApiHandle,changeEditStatus:e.changeEditStatusHandle}})})),e.apiList&&0!=e.apiList.length?e._e():a("div",{staticClass:"v-app-empty"},[a("a-empty",{attrs:{description:e.appApis&&e.appApis.length>0?"未找到满足条件的接口":"当前应用尚未创建接口"}})],1)],2):e._e()]),a("div",{staticClass:"v-api-r-link",attrs:{affix:!1},on:{click:e.handleClick}},[a("a-anchor",{attrs:{offsetTop:60}},e._l(e.apiList,(function(e,t){return a("a-anchor-link",{key:t,attrs:{href:"#"+e.method+":"+e.uri,title:e.name}})})),1)],1)])])},Ft=[],Ut=(a("ac6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"v-api-item "+(e.isEdit?"v-edit-status":"")},[e.isEdit?[a("a-form",{staticClass:"v-api-edit-form",attrs:{form:e.form,hideRequiredMark:!0},on:{submit:e.handleSubmit}},[a("header",{staticClass:"v-api-item-header"},[a("h3",{staticClass:"v-api-name",attrs:{id:e.apiInfo.method+":"+e.apiInfo.uri}},[a("a-icon",{attrs:{type:"api"}}),e._v(" \n          "),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{initialValue:e.apiInfo.name,rules:[{required:!0,whitespace:!0,message:"请输入接口名"},{min:2,message:"接口名最小2个字符"},{max:36,message:"接口名最多不能超过36个字符"}]}],expression:"[\n                'name',\n                {\n                  initialValue: apiInfo.name,\n                  rules: [\n                    { required: true, whitespace:true, message: '请输入接口名' },\n                    { min: 2, message: '接口名最小2个字符' },\n                    { max: 36, message: '接口名最多不能超过36个字符' },\n                  ]\n                }\n              ]"}],attrs:{placeholder:"接口名"}})],1)],1),a("div",{staticClass:"v-api-operate"},[a("a",{attrs:{href:"javascript:;"},on:{click:e.cancelEditHandle}},[a("a-icon",{attrs:{type:"rollback"}}),e._v(" 取消\n          ")],1),a("a-button",{attrs:{type:"primary",size:"small",icon:"save",disabled:e.saveDisabled,loading:e.submitStatus,"html-type":"submit"}},[e._v("保存")])],1)]),a("blockquote",{staticClass:"v-api-describe"},[a("a-form-item",[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["describe",{initialValue:e.apiInfo.describe,rules:[{max:160,message:"最多160个字符"}]}],expression:"[\n              'describe',\n              {\n                initialValue: apiInfo.describe,\n                rules: [\n                  { max: 160, message: '最多160个字符' }\n                ]\n              }\n            ]"}],attrs:{placeholder:"(可选)接口描述",autoSize:{maxRows:6}}})],1)],1),a("ul",{staticClass:"v-api-infos"},[a("li",{staticClass:"v-line-api-label"},[a("label",[e._v("\n            URI\n            "),a("a-tooltip",{attrs:{title:"支持动态路由，定义如：book/{id}、category/{id?}、news/{topic}/{id}"}},[a("a-icon",{attrs:{type:"question-circle-o"}})],1)],1),a("a-form-item",{staticClass:"v-api-uri-input"},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["uri",{initialValue:e.apiInfo.uri,validateTrigger:["blur"],rules:[{required:!0,whitespace:!0,message:"接口请求URI不能为空"},{max:60,message:"URI最多60个字符"},{pattern:/^[\w-.]+$/,message:"接口请求URI输入非法"}]}],expression:"[\n                'uri',\n                {\n                  initialValue: apiInfo.uri,\n                  validateTrigger: ['blur'],\n                  rules: [\n                    { required: true, whitespace:true, message: '接口请求URI不能为空' },\n                    { max:60, message:'URI最多60个字符' },\n                    { pattern: /^[\\w-.]+$/, message: '接口请求URI输入非法' },\n                  ]\n                }\n              ]"}],ref:"uri_input",attrs:{addonBefore:""+(e.app_api_request_uri||"--")+e.$store.getters.virUid+"/"+e.appSlug+"/",placeholder:"请求URI，如：my/book"}})],1)],1),a("li",{staticClass:"v-line-api-label"},[a("label",[e._v("请求方式")]),a("span",[a("a-form-item",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["method",{initialValue:e.apiInfo.method,rules:[{required:!0,message:"请选择请求方法类型"}]}],expression:"[\n                  'method',\n                  {\n                    initialValue: apiInfo.method,\n                    rules: [{ required: true, message: '请选择请求方法类型' }]\n                  }\n                ]"}],staticStyle:{width:"120px"}},[a("a-select-option",{key:"GET"},[e._v("GET")]),a("a-select-option",{key:"POST"},[e._v("POST")]),a("a-select-option",{key:"PUT"},[e._v("PUT")]),a("a-select-option",{key:"DELETE"},[e._v("DELETE")])],1)],1)],1)]),a("li",[a("label",[e._v("对应响应数据(data)")]),a("div",{staticClass:"v-res-inputs-box ant-form-inline"},[a("p",{staticClass:"v-res-remark"},[e._v("* 此处返回数据特指返回数据的data部分，因api所属应用已创建了对应响应模板；即不需要再返回code及message部分。若无data内容可不编辑此项。")]),a("a-form-item",{staticClass:"v-res-inputs-table"},[a("MonacoEditor",{ref:"mockjs_editor",staticClass:"v-json-editor",staticStyle:{height:"400px"},attrs:{options:{language:"json"},value:e.responseData},on:{contentChange:function(t){return e.responseData=t},blur:e.blurMockEditorHandle}})],1)],1)])])])]:[a("header",{staticClass:"v-api-item-header"},[a("h3",{staticClass:"v-api-name",attrs:{id:e.apiInfo.method+":"+e.apiInfo.uri}},[a("a",{staticClass:"v-api-target",attrs:{href:"#"+e.apiInfo.method+":"+e.apiInfo.uri}},[a("a-icon",{attrs:{type:"api"}})],1),e._v("\n         "+e._s(e.apiInfo.name||"--")+"\n      ")]),a("div",{staticClass:"v-api-operate"},[a("router-link",{attrs:{to:{name:"apiDebug",params:{slug:e.appSlug},query:{api_id:e.apiInfo._id}}}},[a("a-icon",{attrs:{type:"code"}}),e._v(" 测试\n        ")],1),a("a",{attrs:{href:"javascript:;"},on:{click:e.editApiHandle}},[a("a-icon",{attrs:{type:"edit"}}),e._v(" 编辑\n        ")],1),a("a-popconfirm",{attrs:{title:"删除后将无法找回，确定删除该接口？",okText:"删除",cancelText:"取消"},on:{confirm:e.confirmDelApiHandle}},[a("a",{staticClass:"v-del-api-btn",attrs:{href:"javascript:;"}},[a("a-icon",{attrs:{type:"delete"}}),e._v(" 删除\n          ")],1)])],1)]),a("blockquote",{staticClass:"v-api-describe"},[e._v(e._s(e.apiInfo.describe||"--无接口描述--"))]),a("ul",{staticClass:"v-api-infos"},[a("li",[a("label",[e._v("URI")]),a("code",[e._v(e._s("/"+(e.appSlug||"--")+"/"+e.apiInfo.uri))]),a("a-button",{staticClass:"v-uri-copy-btn v-copy-tag",attrs:{type:"dashed",icon:"copy",size:"small",title:"一键复制请求接口URL到粘贴板"},on:{click:function(t){return e.copyTextHandle(""+(e.app_api_request_uri||"--/")+e.$store.getters.virUid+"/"+(e.appSlug||"--")+"/"+e.apiInfo.uri)}}})],1),a("li",[a("label",[e._v("请求方式")]),a("span",[e._v(e._s(e.apiInfo.method))])]),a("li",[a("label",[e._v("响应结构(data数据)")]),e.responseData&&0!=e.responseData.length?a("div",{staticClass:"v-api-response-pane"},[a("div",{staticClass:"v-pre-box v-response-pre-box"},[a("span",{staticClass:"v-pre-label"},[e._v("MockJS")]),a("pre",[e._v(e._s(e.responseData))])])]):a("span",[e._v("该接口无data数据响应")]),a("div",{staticClass:"v-pre-box"},[e._m(0),a("pre",{staticClass:"v-res-suc-pre"},[e._v(e._s(e.responseSucceed))]),e._m(1),a("pre",[e._v(e._s(e.responseFailed))])])])])]],2)}),qt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v("\n            最终结构示例\n            "),a("b",{staticClass:"v-res-status-s-text"},[e._v("(请求成功)")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v("\n            最终结构示例\n            "),a("b",{staticClass:"v-res-status-f-text"},[e._v("(请求失败)")])])}],jt=a("7618"),Rt=a("f499"),Nt=a.n(Rt),Ht=(a("c5f6"),a("c1df")),Bt=a.n(Ht),Pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"v_code_container",staticClass:"v-code-editor-container"})},zt=[],Qt=a("33f9"),Gt=(a("a79b"),a("a106"),{name:"monacoEditor",props:{options:{type:Object,default:function(){return{language:"plaintext",readOnly:!1}}},value:{type:String,default:""}},data:function(){return{editor:null}},mounted:function(){this.init()},methods:{init:function(){var e=this;"json"==this.options.language&&Qt["languages"].json.jsonDefaults.setDiagnosticsOptions({validate:!0}),this.editor=Qt["editor"].create(this.$refs["v_code_container"],Object(xt["a"])({value:this.value,theme:"vs",autoIndex:!0,automaticLayout:!0,minimap:{enabled:!1},readOnly:!1},this.options)),this.editor.onDidChangeModelContent((function(){e.$emit("contentChange",e.editor.getValue())})),this.editor.onDidBlurEditorWidget((function(){e.$emit("blur")}))},changeSampleByLanguageRedraw:function(e){var t=this.editor.getModel(),a=Qt["editor"].createModel(this.value,e||this.options.language);this.editor.setModel(a),t&&t.dispose()},setEditorValue:function(e){this.editor.setValue(e)}},destroyed:function(){this.editor&&this.editor.dispose()}}),Yt=Gt,Zt=(a("4a15a"),Object(Y["a"])(Yt,Pt,zt,!1,null,null,null)),Wt=Zt.exports,Kt={components:{MonacoEditor:Wt},props:{appInfo:Object,apiData:Object,apiIndex:Number},data:function(){return{apiInfo:null,app_api_request_uri:"/api/",appSlug:this.$route.params.slug,responseData:[],responseSucceed:null,responseFailed:null,isEdit:!1,saveDisabled:!0,submitStatus:!1}},watch:{responseData:{handler:function(){this.saveDisabled=!1,this.$emit("changeEditStatus",this.apiData._id,!1)},deep:!0}},beforeCreate:function(){var e=this;this.form=this.$form.createForm(this,{onValuesChange:function(){e.saveDisabled=!1,e.$emit("changeEditStatus",e.apiData._id,!1)}})},created:function(){this.init()},mounted:function(){},methods:{moment:Bt.a,init:function(){this._buildDataByRules(),this._initResponseData()},_initResponseData:function(){var e=this.appInfo.response_template;this.responseSucceed={},this.responseSucceed[e.code_name]=e.succeed_code_value,this.responseSucceed[e.message_name]=e.succeed_message_value,this.apiInfo.response_rules&&(this.responseSucceed[e.data_name]=this.apiInfo.succeed_response),this.responseFailed={},this.responseFailed[e.code_name]=e.failed_code_value,this.responseFailed[e.message_name]=e.failed_message_value+":请求参数非法"},_buildDataByRules:function(){var e=this;this.apiInfo=Object(xt["a"])({},this.apiData),this.responseData=this.apiInfo.response_rules?Nt()(this.apiInfo.response_rules,null,4):null,this.$nextTick((function(){e.saveDisabled=!0,e.$emit("changeEditStatus",e.apiData._id,!0)}))},editApiHandle:function(){this.isEdit=!0},cancelEditHandle:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&this._buildDataByRules(),this.$nextTick((function(){e.saveDisabled=!0,e.$emit("changeEditStatus",e.apiData._id,!0)})),this.isEdit=!1},confirmDelApiHandle:function(){this.$emit("del",this.apiData._id)},blurMockEditorHandle:function(){if(this.$refs.mockjs_editor&&this.$refs.mockjs_editor.$el)try{this.responseData&&"object"!=Object(jt["a"])(JSON.parse(this.responseData))||this.$refs.mockjs_editor.$el.classList.remove("v-input-err")}catch(e){this.$refs.mockjs_editor.$el.classList.add("v-input-err")}},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFieldsAndScroll((function(e,a){if(!e){try{!t.responseData||Object(jt["a"])(JSON.parse(t.responseData))}catch(s){return}a.response_rules=t.responseData?JSON.parse(t.responseData):null,a.app_id=t.apiData.app_id,t.$emit("update",t.apiData._id,a)}}))},copyTextHandle:function(e){var t=this,a=new mt.a(".v-copy-tag",{text:function(){return e}});a.on("success",(function(e){t.$message.success("复制成功"),a.destroy()})),a.on("error",(function(e){t.$message.error("该浏览器不支持自动复制"),a.destroy()}))},changeSubmitStatus:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.submitStatus=e}}},Jt=Kt,Xt=(a("f176"),Object(Y["a"])(Jt,Ut,qt,!1,null,null,null)),ea=Xt.exports;function ta(e){return pe({url:"/interface",method:"get",params:e})}function aa(e){return pe({url:"/interface_map",method:"get",params:e})}function sa(e){return pe({url:"/interface/list",method:"get",params:e})}function ia(e){return pe({url:"/interface",method:"post",data:e})}function na(e){return pe({url:"/interface/empty",method:"post",data:e})}function ra(e){return pe({url:"/interface/"+e,method:"delete"})}function oa(e,t){return pe({url:"/interface/"+e,method:"put",data:t})}function la(e){return pe({url:"/interface_debug",method:"post",data:e})}function pa(e){return pe({url:"/interface/copy",method:"post",data:e})}function ca(e){return pe({url:"/interface/move",method:"post",data:e})}function ua(e){return pe({url:"/request_log",method:"get",params:e})}function da(e){return pe({url:"/statistics",method:"get",params:e})}var ma={components:{ApiItem:ea},data:function(){return{appInfo:{icon:null,name:"",slug:null},apiCountMap:{post:0,get:0,put:0,delete:0},appApis:[],apiList:[],maxApiCount:null,pageLoading:!0,queryOptions:{kw:"",sort:"create_desc",method:"ALL"},hasNotSaveMap:{}}},watch:{$route:function(e,t){e.path!=t.path&&(this.pageLoading=!0,this._initLoad())}},created:function(){this._initLoad()},mounted:function(){},methods:{_initLoad:function(){var e=this;me(this.$route.params.slug).then((function(t){e.appInfo=t.data})).catch((function(t){e.$message.error(t.message)})),this._loadApi()},_loadApi:function(){var e=this;ta({app_slug:this.$route.params.slug}).then((function(t){e.appApis=t.data.list,e.maxApiCount=t.data.max_api_count,e.computeApiCount(),e.filterSortApiList(),e.pageLoading=!1})).catch((function(t){e.$message.error(t.message)}))},computeApiCount:function(){var e={post:0,get:0,put:0,delete:0};this.appApis.forEach((function(t){e[t.method.toLowerCase()]++})),this.apiCountMap=e},filterSortApiList:function(){var e=this,t=this.queryOptions.kw.trim(),a=this.queryOptions.method;this.apiList=this.appApis.filter((function(e){return!t||(e.name.indexOf(t)>-1||e.describe.indexOf(t)>-1)})).filter((function(e){return"ALL"===a||e.method==a})).sort((function(t,a){return"update_desc"==e.queryOptions.sort?new Date(a.updated).getTime()-new Date(t.updated).getTime():"update_asc"==e.queryOptions.sort?new Date(t.updated).getTime()-new Date(a.updated).getTime():"create_desc"==e.queryOptions.sort?new Date(a.created).getTime()-new Date(t.created).getTime():"create_asc"==e.queryOptions.sort?new Date(t.created).getTime()-new Date(a.created).getTime():0}))},delApiHandle:function(e){var t=this;ra(e).then((function(a){t.appApis=t.appApis.filter((function(t){return t._id!=e})),t.computeApiCount(),t.filterSortApiList();var s=[];t.$store.getters.myApps.filter((function(e){e.slug==t.appSlug&&(e.api_count-=1),s.push(e)})),t.$store.commit("setAppList",s),t.$message.success("接口删除成功")})).catch((function(e){t.$message.error(e.message)}))},updateApiHandle:function(e,t){var a=this,s=this.$refs["api_item_"+e][0];s.changeSubmitStatus(!0),oa(e,t).then((function(i){a.$message.success("接口更新成功");for(var n=0;n<a.appApis.length;n++){var r=a.appApis[n];if(r._id==e){a.appApis.splice(n,1,Object(xt["a"])({},r,t,{succeed_response:i.data.succeed_response||null}));break}}a.computeApiCount(),a.filterSortApiList(),s.cancelEditHandle(!1),s.changeSubmitStatus(!1),a.$nextTick((function(){s.init()}))})).catch((function(e){s.changeSubmitStatus(!1),a.$message.error(e.message)}))},changeEditStatusHandle:function(e,t){this.hasNotSaveMap[e]=t},handleClick:function(e){e.preventDefault()}},beforeRouteLeave:function(e,t,a){At()(this.hasNotSaveMap).filter((function(e){return!e})).length>0?this.$confirm({title:"温馨提示",content:"当前页面数据尚未保存，确定要离开该页面？",okText:"确定离开",cancelText:"留在本页",onOk:function(){a()},onCancel:function(){a(!1)}}):a()}},va=ma,fa=(a("d0ad"),Object(Y["a"])(va,Mt,Ft,!1,null,null,null)),ha=fa.exports,ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-main-body"},[a("div",{staticClass:"v-create-body"},[a("div",{staticClass:"v-introduce"},[a("h2",[e._v("新建接口")]),a("p",[e._v("接口创建成功后，即可在该接口下创建您所需要的API。")]),a("p",[e._v("当前系统默认每个应用下最多创建"+e._s(e.$store.state.user.basicsData.max_api_count)+"个接口，更多开放敬请期待！")]),e._m(0),e._m(1)]),a("div",{staticClass:"v-form v-create-api-form"},[a("a-form",{attrs:{form:e.apiForm,hideRequiredMark:""},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"对应应用"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["app_id",{initialValue:e.appId,rules:[{required:!0,message:"请选择要关联的应用"}]}],expression:"[\n              'app_id',\n              {\n                initialValue: appId,\n                rules: [{ required: true, message: '请选择要关联的应用' }]\n              }\n            ]"}],attrs:{showSearch:"",placeholder:"请选择要关联的应用",optionFilterProp:"children",filterOption:e.filterOption},on:{change:e.changeAppHandle}},e._l(e.$store.getters.myApps,(function(t){return a("a-select-option",{key:t._id,attrs:{value:t._id,disabled:t.api_count>=e.$store.state.user.basicsData.max_api_count}},[e._v(e._s(t.name))])})),1)],1),a("a-form-item",{attrs:{label:"接口名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{validateTrigger:["blur"],rules:[{required:!0,whitespace:!0,message:"接口名不能为空"},{min:2,message:"接口名长度必须在2至36个字符以内"},{max:36,message:"接口名长度必须在2至36个字符以内"}]}],expression:"['name',{\n              validateTrigger: ['blur'],\n              rules: [\n                {required:true, whitespace:true, message:'接口名不能为空'},\n                {min:2, message:'接口名长度必须在2至36个字符以内'},\n                {max:36, message:'接口名长度必须在2至36个字符以内'}\n              ]}]"}],attrs:{placeholder:"请输入接口名"},on:{blur:e.blurApiNameHandle}})],1),a("a-form-item",{attrs:{label:"接口URI"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["uri",{validateTrigger:["blur"],rules:[{required:!0,whitespace:!0,message:"接口请求URI不能为空"},{max:60,message:"URI最多60个字符"},{pattern:/^[\w-.]+$/,message:"接口请求URI输入非法"}]}],expression:"['uri', {\n              validateTrigger: ['blur'],\n              rules: [\n                { required: true, whitespace:true, message: '接口请求URI不能为空' },\n                { max:60, message:'URI最多60个字符' },\n                { pattern: /^[\\w-.]+$/, message: '接口请求URI输入非法' },\n              ]\n            }]"}],ref:"uri_input",attrs:{addonBefore:""+(e.app_api_request_uri||"--")+e.$store.getters.virUid+"/"+(e.appSlug||"请选择对应应用")+"/",placeholder:"请输入接口URI"}})],1),a("a-form-item",{attrs:{label:"描述(可选)"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["describe",{rules:[{max:160,message:"最多160个字符"}]}],expression:"['describe', {rules: [\n              { max: 160, message: '最多160个字符' }\n            ]}]"}],attrs:{placeholder:"(可选)接口描述......",autoSize:{minRows:2,maxRows:6}}})],1),a("a-form-item",{attrs:{label:"请求类型"}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["method",{initialValue:"GET",rules:[{required:!0,message:"请选择请求方法类型"}]}],expression:"['method', {initialValue: 'GET', rules: [{ required: true, message: '请选择请求方法类型' }]}]"}]},[a("a-radio",{attrs:{value:"GET"}},[e._v("GET请求")]),a("a-radio",{attrs:{value:"POST"}},[e._v("POST请求")]),a("a-radio",{attrs:{value:"PUT"}},[e._v("PUT请求")]),a("a-radio",{attrs:{value:"DELETE"}},[e._v("DELETE请求")])],1)],1),a("a-form-item",{attrs:{label:"响应数据"}},[a("p",{staticClass:"v-res-remark",staticStyle:{"margin-top":"0"}},[e._v("\n            * 此处返回数据特指返回数据的data部分，因api所属应用已创建了对应响应模板；即不需要再返回code及message部分。若无data内容可不编辑此项。当前响应数据需要使用MockJS语法定义，若之前未有接触可通过\n            "),a("a",{attrs:{href:"https://virapi.com/article/xsrm05-mockjsffsydq.html",target:"_blank"}},[e._v("《MockJS常用语法快速上手》")]),e._v("进行了解学习。\n          ")]),a("MonacoEditor",{ref:"mockjs_editor",staticClass:"v-json-editor",staticStyle:{height:"350px"},attrs:{value:e.responseData,options:{language:"json"}},on:{contentChange:function(t){return e.responseData=t},blur:e.blurMockEditorHandle}})],1),a("a-form-item",{staticStyle:{"padding-top":"40px"}},[a("a-button",{attrs:{type:"primary","html-type":"submit",loading:e.submitStatus}},[e._v("创建接口")])],1)],1)],1)]),a("a-modal",{attrs:{title:"系统提示",footer:null,maskClosable:!1,closable:!1,keyboard:!1,width:"400px"},model:{value:e.goCreateAppViewModel,callback:function(t){e.goCreateAppViewModel=t},expression:"goCreateAppViewModel"}},[a("p",[e._v("创建接口需先创建对应应用；您当前未创建任何应用，请先创建目标应用！")]),a("a-button",{staticClass:"v-model-btn",attrs:{type:"primary"},on:{click:function(t){return e.$router.push({name:"appCreate"})}}},[e._v("前往创建应用")]),a("a-button",{staticClass:"v-model-btn",staticStyle:{"margin-top":"0px"},attrs:{icon:"rollback"},on:{click:function(t){return e.$router.back(-1)}}},[e._v("返回上一页")])],1),a("Footer")],1)},_a=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v("\n        若是第一次使用，或不知道如何新建接口，可点击这里查看\n        "),a("a",{attrs:{href:"https://virapi.com/article/xsrm02-xjjk.html",target:"_blank"}},[e._v("新手快速入门")]),e._v("。\n      ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("strong",[e._v("注意：")]),e._v("请遵守本平台的规范及相关法律法规，若发现接口存在违规情况，平台将会直接冻结清除；严重的将禁封账号。\n      ")])}],ba=a("5d73"),ya=a.n(ba),Aa={components:{MonacoEditor:Wt,Footer:Ue},data:function(){return{app_api_request_uri:"/api/",appId:this.$route.query.app_id,appSlug:null,responseData:"",submitStatus:!1,goCreateAppViewModel:!1}},watch:{$route:function(e,t){this._initLoad()}},beforeCreate:function(){this.apiForm=this.$form.createForm(this)},created:function(){this.$store.getters.myApps&&0!=this.$store.getters.myApps.length?this._initLoad():this.goCreateAppViewModel=!0},mounted:function(){},methods:{moment:Bt.a,_initLoad:function(){this.changeAppHandle(this.appId)},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},blurApiNameHandle:function(e){var t=e.target.value;t&&!this.apiForm.getFieldsValue().uri&&(/[\u4e00-\u9fa5]/.test(t)&&(t=$t()(t,{style:$t.a.STYLE_NORMAL}).join("")),t=t.match(/[\w\-\.]/g).join(""),this.apiForm.setFieldsValue({uri:t}))},changeAppHandle:function(e){if(e){var t=!0,a=!1,s=void 0;try{for(var i,n=ya()(this.$store.getters.myApps);!(t=(i=n.next()).done);t=!0){var r=i.value;if(r._id===e){r.api_count>=this.$store.state.user.basicsData.max_api_count?(this.appId=void 0,this.appSlug=null):this.appSlug=r.slug;break}}}catch(o){a=!0,s=o}finally{try{t||null==n.return||n.return()}finally{if(a)throw s}}}},blurMockEditorHandle:function(){if(this.$refs.mockjs_editor&&this.$refs.mockjs_editor.$el)try{this.responseData&&"object"!=Object(jt["a"])(JSON.parse(this.responseData))||this.$refs.mockjs_editor.$el.classList.remove("v-input-err")}catch(e){this.$refs.mockjs_editor.$el.classList.add("v-input-err")}},handleSubmit:function(e){var t=this;e.preventDefault(),this.apiForm.validateFieldsAndScroll((function(e,a){if(!e){try{!t.responseData||Object(jt["a"])(JSON.parse(t.responseData))}catch(s){return}a.response_rules=t.responseData?JSON.parse(t.responseData):null,t.submitStatus=!0,ia(a).then((function(e){t.submitStatus=!1;var s=[];t.$store.getters.myApps.filter((function(e){e.slug==t.appSlug&&(e.api_count+=1),s.push(e)})),t.$store.commit("setAppList",s),t.apiForm.resetFields(),t.apiForm.setFieldsValue({method:a.method});var i=t;t.$confirm({title:"接口创建成功",icon:"check-circle",okText:"前往接口列表",cancelText:"继续创建",onOk:function(){i.$router.push({name:"apiList",params:{slug:i.appSlug}})},onCancel:function(){document.body.scrollIntoView(),i.responseData="",i.$refs.mockjs_editor.setEditorValue("")}})})).catch((function(e){t.submitStatus=!1,t.$message.error(e.message)}))}}))}},beforeRouteLeave:function(e,t,a){At()(this.apiForm.getFieldsValue(["name","uri","describe"])).filter((function(e){return e&&e.trim()>0})).length>0?this.$confirm({title:"温馨提示",content:"当前页面数据尚未保存，确定要离开该页面？",okText:"确定离开",cancelText:"留在本页",onOk:function(){a()},onCancel:function(){a(!1)}}):a()}},xa=Aa,ka=(a("515b"),Object(Y["a"])(xa,ga,_a,!1,null,null,null)),wa=ka.exports,Ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-spin",{staticClass:"v-layout-content",attrs:{tip:"加载中...",spinning:e.pageLoading}},[a("a-alert",{staticStyle:{"margin-top":"-20px","margin-bottom":"10px"},attrs:{message:"此处发起的接口测试记录不会统计到【请求日志】及【数据统计】，请注意！",type:"info",banner:"","show-icon":""}}),a("header",{staticClass:"v-api-debug-header"},[a("h2",[a("a-icon",{attrs:{type:"code"}}),e._v(" 接口测试\n    ")],1),a("div",{staticClass:"v-api-d-s"},[a("label",[e._v("目标接口:")]),a("a-select",{attrs:{showSearch:"",placeholder:"选择要测试的接口",optionFilterProp:"children",filterOption:e.filterOption},on:{change:e.changeApiHandle},model:{value:e.apiId,callback:function(t){e.apiId=t},expression:"apiId"}},e._l(e.apiList,(function(t,s){return a("a-select-option",{key:s,attrs:{value:t._id}},[e._v(e._s(t.name))])})),1)],1)]),e.apiInfo?a("div",{staticClass:"v-api-debug-content"},[a("ul",{staticClass:"v-api-request-form"},[a("li",[a("label",[e._v("接口名")]),a("span",[e._v(e._s(e.apiInfo.name))])]),a("li",[a("label",[e._v("URL")]),a("code",[e._v(e._s(""+(e.app_api_request_uri||"--/")+e.$store.getters.virUid+"/"+(e.$route.params.slug||"--")+"/"+e.apiInfo.uri))]),a("a-button",{staticClass:"v-uri-copy-btn v-copy-tag",attrs:{type:"dashed",icon:"copy",size:"small",title:"一键复制请求接口URL到粘贴板"},on:{click:function(t){return e.copyTextHandle(""+(e.app_api_request_uri||"--/")+e.$store.getters.virUid+"/"+(e.$route.params.slug||"--")+"/"+e.apiInfo.uri)}}})],1),a("li",[a("label",[e._v("请求方式")]),a("span",[e._v(e._s(e.apiInfo.method))])]),a("li",{staticClass:"v-api-r-f-flex-item"},[a("label",[e._v("描述")]),a("p",[e._v(e._s(e.apiInfo.describe))])]),a("li",[a("a-button",{staticClass:"v-api-debug-submit-btn",attrs:{type:"primary",block:"",loading:e.submitStatus},on:{click:e.sendDebugHandle}},[e._v("发出测试请求")])],1)]),e.responseData?a("div",{staticClass:"v-api-response-content"},[a("span",[e._v("接口响应数据：")]),a("div",{staticClass:"v-pre-box"},[a("pre",[e._v(e._s(e.responseData))])])]):e._e()]):a("div",{staticClass:"v-api-debug-empty"},[a("a-icon",{attrs:{type:"api"}}),a("p",[e._v("\n      请先选择要测试的目标接口\n      "),a("br"),e._v("选择后填写测试数据即可获取虚拟响应数据了\n      "),a("br"),e._v("很简单！\n    ")])],1)],1)},$a=[],Sa={data:function(){return{app_api_request_uri:"/api/",apiId:this.$route.query.api_id,apiList:[],pageLoading:!0,apiInfo:null,responseData:null,submitStatus:!1}},watch:{$route:function(e,t){this.apiId=this.$route.query.api_id,this.apiList=[],this.apiInfo=null,this.pageLoading=!0,this._initLoad()}},created:function(){this._initLoad()},methods:{_initLoad:function(){var e=this;aa({app_slug:this.$route.params.slug}).then((function(t){e.apiList=t.data,e.apiId&&e.changeApiHandle(e.apiId),e.pageLoading=!1})).catch((function(t){e.$message.error(t.message)}))},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},copyTextHandle:function(e){var t=this,a=new mt.a(".v-copy-tag",{text:function(){return e}});a.on("success",(function(e){t.$message.success("复制成功"),a.destroy()})),a.on("error",(function(e){t.$message.error("该浏览器不支持自动复制"),a.destroy()}))},changeApiHandle:function(e){var t=this.apiList.filter((function(t){return t._id==e}))[0];this.apiInfo=Object(xt["a"])({},t),this.responseData=null},sendDebugHandle:function(){var e=this;this.submitStatus=!0,la({api_id:this.apiId,app_slug:this.$route.params.slug}).then((function(t){e.submitStatus=!1,e.responseData=t.data})).catch((function(t){e.submitStatus=!1,e.$message.error(t.message)}))}}},Da=Sa,La=(a("d3cb"),Object(Y["a"])(Da,Ca,$a,!1,null,null,null)),Ea=La.exports,Ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-layout-content"},[a("h2",{staticClass:"v-layout-c-head"},[e._v("\n    数据统计\n    "),a("a-radio-group",{staticClass:"v-l-c-head-column",attrs:{value:e.dateScope,"button-style":"solid",size:"small"},on:{change:e.changeDateHandle}},[a("a-radio-button",{attrs:{value:"today"}},[e._v("今日")]),a("a-radio-button",{attrs:{value:"yesterday"}},[e._v("昨日")]),a("a-radio-button",{attrs:{value:"7days"}},[e._v("近7日")]),a("a-radio-button",{attrs:{value:"30days"}},[e._v("近30日")])],1),a("a-button",{staticStyle:{"margin-left":"14px"},attrs:{size:"small",loading:e.dataLoading,icon:"reload"},on:{click:e._loadStatisticsData}},[e._v("刷新")])],1),a("a-spin",{staticClass:"v-statistics-body",attrs:{tip:"加载中...",spinning:e.dataLoading}},[a("div",{staticClass:"v-statistics-item v-statistics-row-item"},[a("h3",[e._v("请求频率概览")]),a("div",{staticClass:"v-statistics-c"},[e.statisticsData.request_list&&Object.keys(e.statisticsData.request_list).length?a("v-chart",{attrs:{options:e.chartOptions.request_list,theme:"ovilia-green",autoresize:""}}):a("a-empty")],1)]),a("div",{staticClass:"v-statistics-item v-statistics-row-item"},[a("h3",[e._v("请求结果比例")]),a("div",{staticClass:"v-statistics-c"},[e.statisticsData.result_map&&Object.keys(e.statisticsData.result_map).length?a("v-chart",{attrs:{options:e.chartOptions.result_map,theme:"ovilia-green",autoresize:""}}):a("a-empty")],1)]),a("div",{staticClass:"v-statistics-item"},[a("h3",[e._v("Top10请求路由")]),a("div",{staticClass:"v-statistics-c"},[a("a-table",{attrs:{columns:e.uriRankColumns,dataSource:e.statisticsData.uri_rank,pagination:!1,rowKey:function(e){return e._id},size:"small"},scopedSlots:e._u([{key:"uri",fn:function(t){return[a("span",{staticClass:"v-tb-overflow-row",staticStyle:{width:"200px"},attrs:{title:t}},[e._v(e._s(t.split(e.$route.params.slug)[1]||t))])]}}])})],1)]),a("div",{staticClass:"v-statistics-item"},[a("h3",[e._v("Top10请求来源IP")]),a("div",{staticClass:"v-statistics-c"},[a("a-table",{attrs:{columns:e.ipRankColumns,dataSource:e.statisticsData.ip_rank,pagination:!1,rowKey:function(e){return e._id},size:"small"}})],1)])])],1)},Oa=[],Va=a("9ca8"),Ta=(a("ef97"),a("c037"),a("007d"),{components:{"v-chart":Va["a"]},data:function(){return{dataLoading:!0,dateScope:"today",chartOptions:{},statisticsData:{},uriRankColumns:[{title:"请求路由",dataIndex:"_id",scopedSlots:{customRender:"uri"}},{title:"总请求次数",dataIndex:"count"}],ipRankColumns:[{title:"请求来源IP",dataIndex:"_id"},{title:"总请求次数",dataIndex:"count"}]}},watch:{$route:function(e,t){this.dataLoading=!0,this._initLoad()}},created:function(){this._initLoad()},methods:{_initLoad:function(){this._loadStatisticsData()},changeDateHandle:function(e){this.dateScope=e.target.value,this._loadStatisticsData()},_loadStatisticsData:function(){var e=this;this.dataLoading=!0,da({app_slug:this.$route.params.slug,date_scope:this.dateScope}).then((function(t){e.dataLoading=!1,e.statisticsData=t.data;var a=[],s=[];if("today"==e.dateScope)for(var i=Bt()().format("HH"),n=0;n<=i;n++)a.push(n),s.push(0);else if("yesterday"==e.dateScope)for(var r=0;r<=23;r++)a.push(r),s.push(0);else if("7days"==e.dateScope)for(var o=6;o>=0;o--)a.push(Bt()().subtract(o,"days").format("YYYY-MM-DD")),s.push(0);else if("30days"==e.dateScope)for(var l=29;l>=0;l--)a.push(Bt()().subtract(l,"days").format("YYYY-MM-DD")),s.push(0);t.data.request_list.forEach((function(e){var t=isNaN(e._id)?e._id:Ke()(e._id);s[a.indexOf(t)]=e.count})),e.chartOptions.request_list={tooltip:{trigger:"axis",formatter:"[{b}] 累积请求: {c}次"},xAxis:{type:"category",data:"today"==e.dateScope||"yesterday"==e.dateScope?a.map((function(e){return e+":00~"+(Ke()(e)+1)+":00"})):a},yAxis:{type:"value"},series:[{data:s,type:"line",color:["#37A2DA","#6ce697","#ff9800"]}]};var p={0:{value:0,name:"无效请求"},1:{value:0,name:"有效请求"}};t.data.result_map.forEach((function(e){p[e._id]={value:e.count,name:0==e._id?"无效请求":1==e._id?"有效请求":"其他"}})),e.chartOptions.result_map={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"请求数据结果统计",type:"pie",radius:"55%",center:["50%","50%"],data:At()(p),color:["#f98ba5","#6ce697","#ff9800"],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}})).catch((function(t){e.$message.error(t.message)}))}}}),Ma=Ta,Fa=(a("7925"),Object(Y["a"])(Ma,Ia,Oa,!1,null,null,null)),Ua=Fa.exports,qa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-layout-content"},[a("h2",{staticClass:"v-layout-c-head"},[e._v("\n    请求日志\n    "),a("a-radio-group",{staticClass:"v-l-c-head-column",attrs:{value:e.requestParams.date_type,"button-style":"solid",size:"small"},on:{change:e.changeDateHandle}},[a("a-radio-button",{attrs:{value:"today"}},[e._v("今日")]),a("a-radio-button",{attrs:{value:"yesterday"}},[e._v("昨日")]),a("a-radio-button",{attrs:{value:"7days"}},[e._v("近7日")]),a("a-radio-button",{attrs:{value:"30days"}},[e._v("近30日")])],1),a("a-button",{staticStyle:{"margin-left":"14px"},attrs:{size:"small",loading:e.dataLoading,icon:"reload"},on:{click:e.searchLogHandle}},[e._v("刷新")])],1),a("div",{staticClass:"v-table-header-form"},[a("a-select",{staticStyle:{width:"180px"},attrs:{allowClear:!0,showSearch:"",placeholder:"请求接口",filterOption:e.filterOption},model:{value:e.requestParams.api_id,callback:function(t){e.$set(e.requestParams,"api_id",t)},expression:"requestParams.api_id"}},[e._l(e.apiMap,(function(t,s){return a("a-select-option",{key:s,attrs:{value:s}},[e._v(e._s(t))])})),a("a-select-option",{attrs:{value:"undefined"}},[e._v("其他未知接口")])],2),a("a-select",{staticStyle:{width:"120px"},attrs:{allowClear:!0,placeholder:"请求类型"},model:{value:e.requestParams.method,callback:function(t){e.$set(e.requestParams,"method",t)},expression:"requestParams.method"}},e._l(e.methodMap,(function(t,s){return a("a-select-option",{key:s,attrs:{value:s}},[e._v(e._s(t))])})),1),a("a-select",{staticStyle:{width:"120px"},attrs:{allowClear:!0,placeholder:"请求结果"},model:{value:e.requestParams.result,callback:function(t){e.$set(e.requestParams,"result",t)},expression:"requestParams.result"}},e._l(e.resultMap,(function(t,s){return a("a-select-option",{key:s,attrs:{value:s}},[e._v(e._s(t))])})),1),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"search"},on:{click:e.searchLogHandle}},[e._v("搜索")])],1),a("a-table",{staticClass:"v-table-body",attrs:{dataSource:e.logList,columns:e.columns,pagination:e.pagination,loading:e.dataLoading,rowKey:function(e){return e.created},scroll:{x:!e.logList||!e.logList.length||1300}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"created",fn:function(t){return[e._v(e._s(e.moment(t).format("YYYY-MM-DD HH:mm:ss")))]}},{key:"uri",fn:function(t){return[a("span",{staticClass:"v-tb-overflow-row",staticStyle:{width:"140px"},attrs:{title:t}},[e._v(e._s(t.split(e.$route.params.slug)[1]||"--"))])]}},{key:"method",fn:function(t){return[e._v(e._s(t||"未知"))]}},{key:"result",fn:function(t){return a("span",{class:"v-r-result-status"+t},[e._v(e._s(e.resultMap[t]||"未知"))])}},{key:"params",fn:function(t){return[t?a("a-tooltip",{attrs:{overlayClassName:"v-tooltip-pre"}},[a("template",{slot:"title"},[a("pre",{staticClass:"v-pre"},[a("code",[e._v(e._s(t||"无"))])])]),a("span",{staticClass:"v-tb-overflow-row"},[e._v(e._s(t||"无"))])],2):[e._v("--")]]}},{key:"response",fn:function(t){return[t?a("a-tooltip",{attrs:{overlayClassName:"v-tooltip-pre"}},[a("template",{slot:"title"},[a("pre",{staticClass:"v-pre"},[a("code",[e._v(e._s(t||"无"))])])]),a("span",{staticClass:"v-tb-overflow-row"},[e._v(e._s(t||"无"))])],2):[e._v("--")]]}}])})],1)},ja=[],Ra={data:function(){var e=this;return{logList:[],dataLoading:!0,requestParams:{kw:null,api_id:void 0,method:void 0,result:void 0,date_type:"today"},pagination:{kw:null,api_id:void 0,method:void 0,result:void 0,date_type:null,total:0,current:1,pageSize:10,size:"small",showSizeChanger:!0,pageSizeOptions:["10","20","40","100"],showTotal:function(e){return"总数：".concat(e,"条")},onShowSizeChange:function(t,a){e.pagination.current=t,e.pagination.pageSize=a},onChange:function(t){e.pagination.current=t}},columns:[{title:"请求时间",dataIndex:"created",width:160,scopedSlots:{customRender:"created"},fixed:"left"},{title:"请求路由",dataIndex:"uri",width:160,scopedSlots:{customRender:"uri"},fixed:"left"},{title:"请求类型",dataIndex:"method",width:90,align:"center",scopedSlots:{customRender:"method"}},{title:"请求来源IP",dataIndex:"ip",width:120,align:"center"},{title:"请求结果",dataIndex:"result",width:90,align:"center",scopedSlots:{customRender:"result"}},{title:"请求参数",dataIndex:"params",width:"10%",scopedSlots:{customRender:"params"}},{title:"响应数据",dataIndex:"response",scopedSlots:{customRender:"response"}}],apiMap:{},methodMap:{GET:"GET请求",POST:"POST请求",PUT:"PUT请求",DELETE:"DELETE请求"},resultMap:{1:"成功",0:"失败"}}},watch:{$route:function(e,t){this.dataLoading=!0,this.requestParams.api_id=void 0,this._initLoad()}},created:function(){this._initLoad()},methods:{moment:Bt.a,_initLoad:function(){var e=this;this.pagination.current=1,this._loadLogList(),aa({app_slug:this.$route.params.slug,_type:"api_uri_map"}).then((function(t){var a={};t.data.forEach((function(t){a[t._id]="[".concat(t.method,"]").concat(t.name,"(/").concat(e.$route.params.slug,"/").concat(t.uri,")")})),e.apiMap=a})).catch((function(t){e.$message.error(t.message)}))},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},changeDateHandle:function(e){this.requestParams.date_type=e.target.value,this.searchLogHandle()},searchLogHandle:function(){this.pagination=wt()(this.pagination,this.requestParams,{current:1}),this._loadLogList()},handleTableChange:function(e,t,a){this.pagination=Object(xt["a"])({},this.pagination,{current:e.current}),this.requestParams=wt()(this.requestParams,{per_page:e.pageSize,page:e.current}),this._loadLogList()},_loadLogList:function(){var e=this;this.dataLoading=!0,ua(Object(xt["a"])({app_slug:this.$route.params.slug},this.requestParams,{page:this.pagination.current,per_page:this.pagination.pageSize})).then((function(t){e.dataLoading=!1,e.pagination=Object(xt["a"])({},e.pagination,{total:t.data.total}),e.logList=t.data.list})).catch((function(t){e.$message.error(t.message)}))}}},Na=Ra,Ha=(a("294d"),Object(Y["a"])(Na,qa,ja,!1,null,null,null)),Ba=Ha.exports,Pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-spin",{staticClass:"v-layout-content v-app-edit-layout",attrs:{tip:"加载中...",spinning:e.pageLoading}},[a("a-tabs",{model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-tab-pane",{key:"base",attrs:{tab:"基本信息"}},[a("a-form",{attrs:{form:e.appBaseForm,hideRequiredMark:""},on:{submit:e.handleSubmitByBase}},[a("a-form-item",{attrs:{label:"应用名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{initialValue:e.appBaseData.name,rules:[{required:!0,whitespace:!0,message:"应用名不能为空"},{min:2,message:"应用名长度必须在2至36个字符以内"},{max:36,message:"应用名长度必须在2至36个字符以内"}],getValueFromEvent:e.disposeValueHandle}],expression:"['name', {\n              initialValue: appBaseData.name,\n              rules: [\n              { required: true, whitespace:true, message: '应用名不能为空' },\n              {min:2, message:'应用名长度必须在2至36个字符以内'},\n              {max:36, message:'应用名长度必须在2至36个字符以内'}\n              ],\n              getValueFromEvent: disposeValueHandle\n            }]"}],attrs:{placeholder:"请输入应用名"}})],1),a("a-form-item",{attrs:{label:"应用API网址"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["slug",{initialValue:e.appBaseData.slug,rules:[{required:!0,whitespace:!0,message:"应用标识码不能为空"},{pattern:/^[\w\-\.]{2,20}$/,message:"应用标识必须由2至20个大小写字母、数字、下划线(_)、中划线(-)、英文句号(.)这些字符组成"}],getValueFromEvent:e.disposeValueHandle}],expression:"['slug', {\n              initialValue: appBaseData.slug,\n              rules: [\n              { required: true, whitespace:true, message: '应用标识码不能为空' },\n              { pattern: /^[\\w\\-\\.]{2,20}$/, message: '应用标识必须由2至20个大小写字母、数字、下划线(_)、中划线(-)、英文句号(.)这些字符组成' }\n              ],\n              getValueFromEvent: disposeValueHandle\n            }]"}],attrs:{placeholder:"请输入应用标识",disabled:""}},[a("span",{attrs:{slot:"addonBefore"},slot:"addonBefore"},[e._v(e._s(e.app_api_request_uri||"--")+e._s(e.$store.getters.virUid)+"/")])])],1),a("a-form-item",{attrs:{label:"描述(可选)"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["describe",{initialValue:e.appBaseData.describe,rules:[{max:120,message:"最多120个字符"}]}],expression:"['describe', {\n              initialValue: appBaseData.describe,\n              rules: [\n                  { max: 120, message: '最多120个字符' }\n              ]\n            }]"}],attrs:{placeholder:"(可选)应用描述......",autoSize:{minRows:2,maxRows:6}}})],1),a("a-form-item",{attrs:{label:"应用图标(可选)",extra:"仅限上传jpg、png、gif格式，且大小不超过5m"}},[a("a-upload",{staticClass:"v-icon-uploader",attrs:{name:"logo",accept:"image/png, image/jpeg, image/gif",showUploadList:!1,beforeUpload:e.beforeUpload,listType:"picture-card"}},[e.iconBase64?a("img",{staticClass:"v-icon-preview",attrs:{src:e.iconBase64,alt:"logo"}}):e.appBaseData.icon?a("img",{staticClass:"v-icon-preview",attrs:{src:e.appBaseData.icon,alt:"logo"}}):a("div",[a("a-icon",{attrs:{type:"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v("选择上传")])],1)])],1),a("a-form-item",{staticStyle:{"padding-top":"20px"}},[a("a-button",{attrs:{type:"primary","html-type":"submit",disabled:e.submit1Disabled,loading:e.submitStatus}},[e._v("保 存")]),a("a-button",{style:{marginLeft:"8px"},attrs:{disabled:e.submit1Disabled},on:{click:function(t){return e.handleReset("base")}}},[e._v("重 置")])],1)],1)],1),a("a-tab-pane",{key:"expert",attrs:{tab:"更多设置"}},[a("a-form",{attrs:{form:e.appExpertForm,hideRequiredMark:""},on:{submit:e.handleSubmitByExpert}},[a("a-form-item",{attrs:{label:"请求验证规则"}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["verify_rule",{initialValue:e.appExpertData.verify_rule,rules:[{required:!0,message:"请选择验证请求规则"}]}],expression:"['verify_rule', {\n                initialValue: appExpertData.verify_rule,\n                rules: [{ required: true, message: '请选择验证请求规则' }]\n            }]"}]},[a("a-radio",{attrs:{value:"header"}},[e._v("\n              请求头部Token验证\n              "),a("a-tooltip",{attrs:{placement:"top",title:"请求头部Header中附带一个名为【app-token】的报文数据"}},[a("a-icon",{attrs:{type:"info-circle"}})],1)],1),a("a-radio",{attrs:{value:"param"}},[e._v("\n              请求参数Token验证\n              "),a("a-tooltip",{attrs:{placement:"top",title:"请求路由请求参数中附带一个名为【_token】的GET请求参数"}},[a("a-icon",{attrs:{type:"info-circle"}})],1)],1),a("a-radio",{attrs:{value:"compatible"}},[e._v("\n              兼容模式\n              "),a("a-tooltip",{attrs:{placement:"top",title:"兼容请求头部和请求参数验证规则，优先从请求头部中获取验证Token，若无则再从请求参数中获取"}},[a("a-icon",{attrs:{type:"info-circle"}})],1)],1)],1)],1),a("label",{staticClass:"v-options-group-label"},[e._v("自定义请求响应结构 :")]),a("div",{staticClass:"response-template-box"},[a("a-form-item",{staticClass:"v-more-options-group-item",attrs:{label:"状态码键名"}},[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["response_template.code_name",{initialValue:""+e.appExpertData.response_template.code_name,rules:[{required:!0,message:"状态码键名不能为空"}],getValueFromEvent:e.disposeValueHandle}],expression:"['response_template.code_name', {\n                initialValue:`${appExpertData.response_template.code_name}`,\n                rules: [{ required: true, message: '状态码键名不能为空' }],\n                getValueFromEvent: disposeValueHandle\n              }]"}],staticStyle:{width:"200px"},attrs:{filterOption:"",placeholder:"输入或选择您要的状态码对应键名"}},[a("template",{slot:"dataSource"},[a("a-select-option",{key:"code"},[e._v("code")]),a("a-select-option",{key:"status"},[e._v("status")])],1)],2)],1),a("a-form-item",{staticClass:"v-more-options-group-item",attrs:{label:"请求成功状态码值"}},[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["response_template.succeed_code_value",{initialValue:""+e.appExpertData.response_template.succeed_code_value,rules:[{required:!0,message:"请求成功状态码值不能为空"}],getValueFromEvent:e.disposeValueHandle}],expression:"['response_template.succeed_code_value', {\n                initialValue:`${appExpertData.response_template.succeed_code_value}`,\n                rules: [{ required: true, message: '请求成功状态码值不能为空' }],\n                getValueFromEvent: disposeValueHandle\n              }]"}],staticStyle:{width:"200px"},attrs:{filterOption:"",placeholder:"输入或选择您要的请求成功状态码值"}},[a("template",{slot:"dataSource"},[a("a-select-option",{key:"200"},[e._v("200")]),a("a-select-option",{key:"0"},[e._v("0")]),a("a-select-option",{key:"succeed"},[e._v("succeed")])],1)],2)],1),a("a-form-item",{staticClass:"v-more-options-group-item",attrs:{label:"请求失败状态码值"}},[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["response_template.failed_code_value",{initialValue:""+e.appExpertData.response_template.failed_code_value,rules:[{required:!0,message:"请求失败状态码值不能为空"}],getValueFromEvent:e.disposeValueHandle}],expression:"['response_template.failed_code_value', {\n                initialValue:`${appExpertData.response_template.failed_code_value}`,\n                rules: [{ required: true, message: '请求失败状态码值不能为空' }],\n                getValueFromEvent: disposeValueHandle\n              }]"}],staticStyle:{width:"200px"},attrs:{filterOption:"",placeholder:"输入或选择您要的请求失败状态码值"}},[a("template",{slot:"dataSource"},[a("a-select-option",{key:"1000"},[e._v("1000")]),a("a-select-option",{key:"failed"},[e._v("failed")])],1)],2)],1),a("a-form-item",{staticClass:"v-more-options-group-item",attrs:{label:"响应描述键名"}},[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["response_template.message_name",{initialValue:""+e.appExpertData.response_template.message_name,rules:[{required:!0,message:"响应描述键名不能为空"}],getValueFromEvent:e.disposeValueHandle}],expression:"['response_template.message_name', {\n                initialValue:`${appExpertData.response_template.message_name}`,\n                rules: [{ required: true, message: '响应描述键名不能为空' }],\n                getValueFromEvent: disposeValueHandle\n              }]"}],staticStyle:{width:"200px"},attrs:{filterOption:"",placeholder:"输入或选择您要的响应描述键名"}},[a("template",{slot:"dataSource"},[a("a-select-option",{key:"message"},[e._v("message")]),a("a-select-option",{key:"msg"},[e._v("msg")]),a("a-select-option",{key:"info"},[e._v("info")])],1)],2)],1),a("a-form-item",{staticClass:"v-more-options-group-item",attrs:{label:"请求成功默认描述"}},[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["response_template.succeed_message_value",{initialValue:""+e.appExpertData.response_template.succeed_message_value,rules:[{required:!0,message:"请求成功默认描述不能为空"}]}],expression:"['response_template.succeed_message_value', {\n                initialValue:`${appExpertData.response_template.succeed_message_value}`,\n                rules: [{ required: true, message: '请求成功默认描述不能为空' }]\n              }]"}],staticStyle:{width:"200px"},attrs:{filterOption:"",placeholder:"输入或选择您要的请求成功默认描述"}},[a("template",{slot:"dataSource"},[a("a-select-option",{key:"Succeed"},[e._v("Succeed")])],1)],2)],1),a("a-form-item",{staticClass:"v-more-options-group-item",attrs:{label:"请求失败默认描述"}},[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["response_template.failed_message_value",{initialValue:""+e.appExpertData.response_template.failed_message_value,rules:[{required:!0,message:"请求失败默认描述不能为空"}]}],expression:"['response_template.failed_message_value', {\n                initialValue:`${appExpertData.response_template.failed_message_value}`,\n                rules: [{ required: true, message: '请求失败默认描述不能为空' }]\n              }]"}],staticStyle:{width:"200px"},attrs:{filterOption:"",placeholder:"输入或选择您要的请求失败默认描述"}},[a("template",{slot:"dataSource"},[a("a-select-option",{key:"Failed"},[e._v("Failed")])],1)],2)],1),a("a-form-item",{staticClass:"v-more-options-group-item",attrs:{label:"请求响应目标数据键名"}},[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["response_template.data_name",{initialValue:""+e.appExpertData.response_template.data_name,rules:[{required:!0,message:"请求响应目标数据键名不能为空"}],getValueFromEvent:e.disposeValueHandle}],expression:"['response_template.data_name', {\n                initialValue:`${appExpertData.response_template.data_name}`,\n                rules: [{ required: true, message: '请求响应目标数据键名不能为空' }],\n                getValueFromEvent: disposeValueHandle\n              }]"}],staticStyle:{width:"200px"},attrs:{filterOption:"",placeholder:"输入或选择您要的请求响应目标数据键名"}},[a("template",{slot:"dataSource"},[a("a-select-option",{key:"data"},[e._v("data")])],1)],2)],1),a("div",{staticClass:"v-pre-box"},[a("label",[e._v("\n              最终结构示例(\n              "),a("b",[e._v("请求成功")]),e._v(")：\n            ")]),a("pre",[e._v(e._s(e.responseSucceed))]),a("label",[e._v("\n              最终结构示例(\n              "),a("b",[e._v("请求失败")]),e._v(")：\n            ")]),a("pre",[e._v(e._s(e.responseFailed))])])],1),a("a-form-item",{staticStyle:{"padding-top":"20px"}},[a("a-button",{attrs:{type:"primary","html-type":"submit",disabled:e.submit2Disabled,loading:e.submitStatus}},[e._v("保 存")]),a("a-button",{style:{marginLeft:"8px"},attrs:{disabled:e.submit2Disabled},on:{click:function(t){return e.handleReset("expert")}}},[e._v("重 置")])],1)],1)],1)],1)],1)},za=[],Qa={data:function(){return{app_api_request_uri:"/api/",iconBase64:null,pageLoading:!0,uploadLoading:!1,appBaseData:{id:null,icon:null,name:null,slug:null,describe:null,visibility_level:null},appExpertData:{id:null,verify_rule:null,response_template:{}},responseSucceed:null,responseFailed:null,submit1Disabled:!0,submit2Disabled:!0,submitStatus:!1,activeKey:this.$route.query.type||"base"}},beforeCreate:function(){var e=this;this.appBaseForm=this.$form.createForm(this,{onValuesChange:function(t,a){e.submit1Disabled=!1}}),this.appExpertForm=this.$form.createForm(this,{onValuesChange:function(t,a){if(a.response_template){var s=wt()(e.appExpertForm.getFieldsValue().response_template,a.response_template);e._disposeIntegerStr(s),e._initResponseData(s)}e.submit2Disabled=!1}})},watch:{$route:function(e,t){this.pageLoading=!0,this._initLoad()}},created:function(){this._initLoad()},mounted:function(){},methods:{_initLoad:function(){var e=this;de(this.$route.params.slug).then((function(t){e.appBaseData={id:t.data._id,icon:t.data.icon,name:t.data.name,slug:t.data.slug,describe:t.data.describe,visibility_level:t.data.visibility_level},e.appExpertData={id:t.data._id,verify_rule:t.data.verify_rule,response_template:t.data.response_template},e._initResponseData(t.data.response_template),e.pageLoading=!1,e.$nextTick((function(){e.submit1Disabled=!0,e.submit2Disabled=!0}))})).catch((function(t){e.$message.error(t.message)}))},_initResponseData:function(e){this.responseSucceed={},this.responseSucceed[e.code_name]=e.succeed_code_value,this.responseSucceed[e.message_name]=e.succeed_message_value,this.responseSucceed[e.data_name]={id:1,name:"virapi"},this.responseFailed={},this.responseFailed[e.code_name]=e.failed_code_value,this.responseFailed[e.message_name]=e.failed_message_value},_disposeIntegerStr:function(e){return void 0!==e.succeed_code_value&&/^\d+$/.test(e.succeed_code_value)&&(e.succeed_code_value=Ke()(e.succeed_code_value)),void 0!==e.failed_code_value&&/^\d+$/.test(e.failed_code_value)&&(e.failed_code_value=Ke()(e.failed_code_value)),e},disposeValueHandle:function(e){if(!e||!e.target)return e.trim();var t=e.target;return"checkbox"===t.type?t.checked:t.value.trim()},beforeUpload:function(e){var t=this,a=e.size/1024/1024<5;return a?(Dt(e,(function(e){t.iconBase64=e,t.submit1Disabled=!1})),!1):(this.$message.error("图片不能超过5M"),!1)},handleSubmitByBase:function(e){var t=this;e.preventDefault(),this.appBaseForm.validateFieldsAndScroll((function(e,a){e||(t.iconBase64&&(a.icon=t.iconBase64),t.submitStatus=!0,he(t.appBaseData.id,a).then((function(e){t.submitStatus=!1,t.$message.success("应用更新成功");var s=[];t.$store.getters.myApps.forEach((function(e){e._id==t.appBaseData.id&&(e.name=a.name,a.icon&&(e.icon=a.icon)),s.push(e)})),t.$store.commit("setAppList",s),t.submit1Disabled=!0,t.$router.push({name:"appDetail",params:{slug:t.$route.params.slug}})})).catch((function(e){t.submitStatus=!1,t.$message.error(e.message)})))}))},handleSubmitByExpert:function(e){var t=this;e.preventDefault(),this.appExpertForm.validateFieldsAndScroll((function(e,a){e||(a.response_template&&t._disposeIntegerStr(a.response_template),t.submitStatus=!0,he(t.appExpertData.id,a).then((function(e){t.submitStatus=!1,t.$message.success("应用更新成功"),t.submit2Disabled=!0,t.$router.push({name:"appDetail",params:{slug:t.$route.params.slug}})})).catch((function(e){t.submitStatus=!1,t.$message.error(e.message)})))}))},handleReset:function(e){"base"==e?(this.iconBase64=null,this.appBaseForm.resetFields(),this.submit1Disabled=!0):(this._initResponseData(this.appExpertData.response_template),this.appExpertForm.resetFields(),this.submit2Disabled=!0)}},beforeRouteLeave:function(e,t,a){this.submit1Disabled&&this.submit2Disabled?a():this.$confirm({title:"温馨提示",content:"当前页面数据尚未保存，确定要离开该页面？",okText:"确定离开",cancelText:"留在本页",onOk:function(){a()},onCancel:function(){a(!1)}})}},Ga=Qa,Ya=(a("0dfd"),Object(Y["a"])(Ga,Pa,za,!1,null,null,null)),Za=Ya.exports,Wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-layout-content v-other-management-content"},[a("div",{staticClass:"v-o-m-group"},[a("h3",[e._v("接口相关操作管理")]),a("div",{staticClass:"v-other-m-block"},[a("div",[a("label",[e._v("接口拷贝")]),a("a-button",{on:{click:function(t){return e.visibleModalHandle("copy_api")}}},[e._v("拷贝接口")])],1),a("p",[e._v("拷贝指定接口到当前应用或其他应用，方便快捷减少重复创建的麻烦。")])]),a("div",{staticClass:"v-other-m-block"},[a("div",[a("label",[e._v("接口转移")]),a("a-button",{on:{click:function(t){return e.visibleModalHandle("move_api")}}},[e._v("转移接口")])],1),a("p",[e._v("将指定应用接口转移至您的其他应用。转移成功后该接口将不在当前应用中。")])])]),a("div",{staticClass:"v-o-m-group"},[a("h3",[e._v("应用相关操作管理")]),a("div",{staticClass:"v-other-m-block"},[a("div",[a("label",[e._v("应用拷贝")]),a("a-button",{on:{click:function(t){return e.visibleModalHandle("copy_app")}}},[e._v("拷贝应用")])],1),a("p",[e._v("拷贝当前应用并另新建应用，执行该操作后新创建的应用将拥有与当前应用一样的基本数据配置，包括应用的所有数据接口。")])]),a("div",{staticClass:"v-other-m-block"},[a("div",[a("label",[e._v("应用清空")]),a("a-button",{attrs:{type:"danger"},on:{click:function(t){return e.visibleModalHandle("empty_app")}}},[e._v("清空应用")])],1),a("p",[e._v("清空应用所有接口，执行该操作后所有接口将永久消失无法恢复。")])]),a("div",{staticClass:"v-other-m-block"},[a("div",[a("label",[e._v("应用删除")]),a("a-button",{attrs:{type:"danger"},on:{click:function(t){return e.visibleModalHandle("delete_app")}}},[e._v("删除应用")])],1),a("p",[e._v("删除内容包括应用基本信息及其所有接口。删除后应用及接口数据将永久消失无法恢复。")])])]),a("a-modal",{staticClass:"v-o-lf-modal",attrs:{title:"copy_api"==e.modalType?"接口拷贝":"接口转移",maskClosable:!1,width:600,okButtonProps:{props:{disabled:!e.targetApp||0==e.checkedApi.length}}},on:{ok:e.handleOkByCopyApi},model:{value:e.copeApiModalVisible,callback:function(t){e.copeApiModalVisible=t},expression:"copeApiModalVisible"}},[a("div",{staticClass:"v-o-m-l"},[a("span",[e._v("请选择要"+e._s("copy_api"==e.modalType?"拷贝":"转移")+"的接口（"+e._s(e.checkedApi.length||0)+"）：")]),e.apiOptions&&e.apiOptions.length>0?a("a-checkbox-group",{attrs:{options:e.apiOptions},model:{value:e.checkedApi,callback:function(t){e.checkedApi=t},expression:"checkedApi"}}):a("p",{staticStyle:{"font-size":"12px",color:"#ccc","text-align":"center","margin-top":"20px"}},[e._v("-- 当前应用未定义任何接口 --")])],1),a("div",{staticClass:"v-o-m-r"},[a("span",[e._v("请选择要"+e._s("copy_api"==e.modalType?"拷贝":"转移")+"到哪个目标应用：")]),a("a-select",{attrs:{showSearch:"",placeholder:"目标应用",optionFilterProp:"children",filterOption:e.filterOption},model:{value:e.targetApp,callback:function(t){e.targetApp=t},expression:"targetApp"}},e._l(e.appOptions,(function(t,s){return a("a-select-option",{key:s,attrs:{value:t.value,disabled:e.disabledApps.indexOf(t.value)>-1}},[e._v(e._s(t.label))])})),1)],1)]),a("a-modal",{attrs:{title:"应用拷贝",maskClosable:!1,width:600,footer:null},on:{ok:e.handleOkByCopyApp},model:{value:e.copeAppModalVisible,callback:function(t){e.copeAppModalVisible=t},expression:"copeAppModalVisible"}},[a("a-form",{attrs:{form:e.appForm,hideRequiredMark:""},on:{submit:e.handleOkByCopyApp}},[a("a-form-item",{attrs:{label:"新应用名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{initialValue:"",rules:[{required:!0,whitespace:!0,message:"应用名不能为空"},{min:2,message:"应用名长度必须在2至36个字符以内"},{max:36,message:"应用名长度必须在2至36个字符以内"}],getValueFromEvent:e.disposeValueHandle}],expression:"['name', {\n              initialValue: '',\n              rules: [\n                { required: true, whitespace:true, message: '应用名不能为空' },\n                {min:2, message:'应用名长度必须在2至36个字符以内'},\n                {max:36, message:'应用名长度必须在2至36个字符以内'}\n              ],\n              getValueFromEvent: disposeValueHandle\n          }]"}],attrs:{placeholder:"请输入应用名"},on:{blur:e.blurAppNameHandle}})],1),a("a-form-item",{attrs:{label:"新应用网址"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["slug",{initialValue:"",rules:[{required:!0,whitespace:!0,message:"应用标识码不能为空"},{pattern:/^[\w\-\.]{2,20}$/,message:"应用标识必须由2至20个大小写字母、数字、下划线(_)、中划线(-)、英文句号(.)这些字符组成"}],getValueFromEvent:e.disposeValueHandle}],expression:"['slug', {\n              initialValue: '',\n              rules: [\n                  { required: true, whitespace:true, message: '应用标识码不能为空' },\n                  { pattern: /^[\\w\\-\\.]{2,20}$/, message: '应用标识必须由2至20个大小写字母、数字、下划线(_)、中划线(-)、英文句号(.)这些字符组成' }\n              ],\n              getValueFromEvent: disposeValueHandle\n          }]"}],attrs:{placeholder:"请输入应用标识"}},[a("span",{attrs:{slot:"addonBefore"},slot:"addonBefore"},[e._v(e._s(e.app_api_request_uri||"--")+e._s(e.$store.getters.virUid)+"/")])])],1),a("a-form-item",{attrs:{label:"描述(可选)"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["describe",{rules:[{max:120,message:"最多120个字符"}]}],expression:"['describe', {rules: [\n              { max: 120, message: '最多120个字符' }\n            ]}]"}],attrs:{placeholder:"(可选)应用描述......",autoSize:{minRows:2,maxRows:6}}})],1),a("a-form-item",{staticStyle:{"padding-top":"20px"}},[a("a-button",{attrs:{type:"primary","html-type":"submit",block:"",loading:e.submitStatus}},[e._v("确定拷贝应用")])],1)],1)],1)],1)},Ka=[],Ja={data:function(){return{app_api_request_uri:"/api/",apiOptions:null,appOptions:null,checkedApi:[],disabledApps:[],targetApp:void 0,copeApiModalVisible:!1,modalType:null,copeAppModalVisible:!1,submitStatus:!1}},beforeCreate:function(){this.appForm=this.$form.createForm(this)},watch:{$route:function(e,t){this._initLoad()}},created:function(){this._initLoad()},mounted:function(){},methods:{_initLoad:function(){},_loadApiData:function(){var e=this;this.apiOptions||sa({app_slug:this.$route.params.slug}).then((function(t){var a=[];t.data.forEach((function(e){a.push({label:e.name,value:e._id})})),e.apiOptions=a})).catch((function(t){e.$message.error(t.message)}))},_loadAppData:function(){if(!this.appOptions){var e=[];this.$store.getters.myApps.forEach((function(t){e.push({label:t.name,value:t.slug})})),this.appOptions=e}},_emptyApp:function(){var e=this;na({app_slug:this.$route.params.slug}).then((function(t){e.apiOptions=[],e.$message.success("应用清空成功");var a=[];e.$store.getters.myApps.filter((function(t){t.slug==e.$route.params.slug&&(t.api_count=0),a.push(t)})),e.$store.commit("setAppList",a)})).catch((function(t){e.$message.error(t.message)}))},_deleteApp:function(){var e=this;fe(this.$route.params.slug).then((function(t){e.$message.success("应用删除成功");var a=e.$store.getters.myApps.filter((function(t){return t.slug!=e.$route.params.slug}));e.$store.commit("setAppList",a);var s=Object(xt["a"])({},e.$store.state.user.basicsData);s.have_app_count--,e.$store.dispatch("handleUserBasicsData",s),e.$router.push({name:"myApps"})})).catch((function(t){e.$message.error(t.message)}))},visibleModalHandle:function(e){if(this.modalType=e,"copy_api"==e)this._loadApiData(),this._loadAppData(),this.checkedApi=[],this.disabledApps=[],this.targetApp=void 0,this.copeApiModalVisible=!0;else if("move_api"==e)this._loadApiData(),this._loadAppData(),this.checkedApi=[],this.disabledApps=[this.$route.params.slug],this.targetApp=void 0,this.copeApiModalVisible=!0;else if("copy_app"==e)this._loadAppData(),this.disabledApps=[],this.targetApp=void 0,this.copeAppModalVisible=!0;else if("empty_app"==e){var t=this;this.$confirm({title:"清空应用所有接口",content:"你确定要清空当前拥有所有接口吗？执行后所有接口将无法恢复，请谨慎操作！",okText:"确定清空",okType:"danger",cancelText:"取消",onOk:function(){t._emptyApp()},onCancel:function(){}})}else if("delete_app"==e){var a=this;this.$confirm({title:"删除应用",content:"删除当前应用及其下所有创建的接口，删除后该应用及接口数据将无法找回，请谨慎操作！",okText:"确定删除",okType:"danger",cancelText:"取消",onOk:function(){a._deleteApp()},onCancel:function(){}})}},blurAppNameHandle:function(e){var t=e.target.value;t&&!this.appForm.getFieldsValue().slug&&(/[\u4e00-\u9fa5]/.test(t)&&(t=pinyin(t,{style:pinyin.STYLE_NORMAL}).join("")),t=t.match(/[\w\-.]/g).join(""),this.appForm.setFieldsValue({slug:t}))},disposeValueHandle:function(e){if(!e||!e.target)return e.trim();var t=e.target;return"checkbox"===t.type?t.checked:t.value.trim()},handleOkByCopyApi:function(e){var t=this;"copy_api"==this.modalType?pa({api_ids:this.checkedApi,target_app_slug:this.targetApp}).then((function(e){t.copeApiModalVisible=!1,t.checkedApi=[],t.targetApp=void 0,t.$message.success("拷贝接口成功");var a=[];t.$store.getters.myApps.filter((function(e){e.slug==t.targetApp&&(e.api_count+=t.checkedApi.length),a.push(e)})),t.$store.commit("setAppList",a)})).catch((function(e){t.$message.error(e.message)})):ca({api_ids:this.checkedApi,target_app_slug:this.targetApp}).then((function(e){t.copeApiModalVisible=!1,t.checkedApi=[],t.targetApp=void 0,t.apiOptions=null,t.$message.success("拷贝转移成功");var a=[];t.$store.getters.myApps.filter((function(e){e.slug==t.targetApp?e.api_count+=t.checkedApi.length:e.slug==t.$route.params.slug&&(e.api_count-=t.checkedApi.length),a.push(e)})),t.$store.commit("setAppList",a)})).catch((function(e){t.$message.error(e.message)}))},handleOkByCopyApp:function(e){var t=this;e.preventDefault(),this.appForm.validateFieldsAndScroll((function(e,a){if(!e){var s=t.$store.getters.myApps.filter((function(e){return e.slug==t.$route.params.slug}))[0];if(s.name==a.name)return void t.$message.warning("新应用名不能与原应用一样");if(s.slug==a.slug)return void t.$message.warning("新应用标识不能与原应用一样");a.target_app_slug=t.$route.params.slug,_e(a).then((function(e){t.copeAppModalVisible=!1,t.$message.success("拷贝应用成功"),t.$store.dispatch("handleUpdateMyApps");var s=Object(xt["a"])({},t.$store.state.user.basicsData);s.have_app_count++,t.$store.dispatch("handleUserBasicsData",s),t.$router.push({name:"appDetail",params:{slug:a.slug}})})).catch((function(e){t.$message.error(e.message)}))}}))},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>-1}}},Xa=Ja,es=(a("d743"),Object(Y["a"])(Xa,Wa,Ka,!1,null,null,null)),ts=es.exports,as=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-layout",{attrs:{id:"v-app-layout"}},[a("a-layout-sider",{staticClass:"v-center-sider",attrs:{collapsible:"",theme:"light"},model:{value:e.collapsed,callback:function(t){e.collapsed=t},expression:"collapsed"}},[a("div",{staticClass:"v-mini-profile-box"},[a("img",{attrs:{src:e.$store.getters.avatarUrl,alt:"头像"}}),a("span",[e._v(e._s(e.$store.getters.userName))])]),a("a-menu",{attrs:{theme:"light",selectedKeys:[e.$route.name],openKeys:e.openMenuKeys,mode:"inline"},on:{"update:openKeys":function(t){e.openMenuKeys=t},"update:open-keys":function(t){e.openMenuKeys=t}}},[a("a-menu-item",{key:"profile"},[a("router-link",{attrs:{to:{name:"profile"}}},[a("a-icon",{attrs:{type:"user"}}),a("span",[e._v("个人资料")])],1)],1),a("a-menu-item",{key:"security"},[a("router-link",{attrs:{to:{name:"security"}}},[a("a-icon",{attrs:{type:"safety-certificate"}}),a("span",[e._v("账号密码")])],1)],1),a("a-menu-item",{key:"information"},[a("router-link",{attrs:{to:{name:"information"}}},[a("a-icon",{attrs:{type:"bell"}}),a("span",[e._v("消息通知")])],1)],1)],1)],1),a("a-layout",{style:{marginLeft:e.collapsed?"80px":"200px"}},[e.warningMsg?a("a-alert",{attrs:{message:e.warningMsg,type:"warning",closable:"",showIcon:""}}):e._e(),a("a-layout-content",[a("router-view")],1),a("Footer")],1)],1)},ss=[],is={components:{Footer:Ue},data:function(){return{collapsed:!1,warningMsg:null,openMenuKeys:[]}},watch:{$route:function(e,t){this.openMenuKeys=e.meta.subKey?[e.meta.subKey]:[],this._initLoad()}},created:function(){this.openMenuKeys=this.$route.meta.subKey?[this.$route.meta.subKey]:[],this._initLoad()},methods:{_initLoad:function(){}}},ns=is,rs=(a("f0dd"),Object(Y["a"])(ns,as,ss,!1,null,null,null)),os=rs.exports,ls=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-spin",{staticClass:"v-layout-content v-center-content",attrs:{tip:"加载中...",spinning:e.pageLoading}},[a("h2",[e._v("编辑个人资料")]),a("a-form",{staticClass:"v-personal-form",attrs:{form:e.form,hideRequiredMark:!0},on:{submit:e.handleSubmit}},[a("a-form-item",e._b({attrs:{label:"账户昵称",extra:"自定义您的账户昵称，长度必须在2至20个字符以内"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["nickname",{initialValue:e.$store.getters.userName,rules:[{required:!0,message:"请输入您的账户昵称"},{min:2,message:"昵称最小需要两个字符"},{max:20,message:"昵称最多不能超过20个字符"},{pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/,message:"昵称不能包含特殊字符"}]}],expression:"['nickname', {\n          initialValue: $store.getters.userName,\n          rules: [\n            { required: true, message: '请输入您的账户昵称' },\n            { min: 2, message: '昵称最小需要两个字符' },\n            { max: 20, message: '昵称最多不能超过20个字符' },\n            { pattern: /^[\\u4e00-\\u9fa5_a-zA-Z0-9]+$/, message: '昵称不能包含特殊字符' },\n          ]\n        }]"}],attrs:{placeholder:"请输入您的账户昵称"}})],1),a("a-form-item",e._b({attrs:{label:"平台唯一ID",extra:"平台唯一用户标识ID，只有一次修改机会，编辑保存后将不能再次更改！"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["vir_uid",{initialValue:e.$store.getters.virUid,rules:[{required:!0,message:"请输入您的唯一ID名称"},{pattern:/^[a-z][a-z0-9_\-]{3,23}$/,message:"长度为4至24，支持小写字母、数字、下划线_、及中隔符-，且首位必须为字母"}]}],expression:"['vir_uid', {\n          initialValue: $store.getters.virUid,\n          rules: [\n            { required: true, message: '请输入您的唯一ID名称' },\n            { pattern: /^[a-z][a-z0-9_\\-]{3,23}$/, message: '长度为4至24，支持小写字母、数字、下划线_、及中隔符-，且首位必须为字母' },\n          ]\n        }]"}],ref:"vir_uid_input",attrs:{placeholder:"请自定义您的平台唯一个性ID",disabled:e.virUidDisabled}},[e.$store.state.user.basicsData.vir_uid_updated?e._e():a("a",{attrs:{slot:"addonAfter"},on:{click:e.editVirUidHandle},slot:"addonAfter"},[e._v(e._s(e.virUidDisabled?"自定义编辑":"取消编辑"))])])],1),a("a-form-item",e._b({attrs:{label:"登录邮箱",extra:"登录时用于识别身份，请谨慎修改！"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{initialValue:e.$store.state.user.basicsData.email,rules:[{required:!0,message:"请输入您的登录邮箱"},{type:"email",message:"请输入正确邮箱格式"}]}],expression:"['email', {\n          initialValue: $store.state.user.basicsData.email,\n          rules: [\n            { required: true, message: '请输入您的登录邮箱' },\n            { type:'email', message: '请输入正确邮箱格式' }\n          ]\n        }]"}],attrs:{placeholder:"请输入您的登录邮箱"}})],1),a("a-form-item",e._b({attrs:{label:"头 像",extra:"允许上传最大2M大小图片，支持格式：png、jpg、gif"}},"a-form-item",e.formItemLayout,!1),[a("a-upload",{attrs:{accept:"image/png, image/jpeg, image/gif",showUploadList:!1,beforeUpload:e.beforeUpload}},[a("a-button",{attrs:{icon:"upload"}},[e._v("选择图片")])],1),a("img",{staticClass:"v-personal-avatar",attrs:{src:e.avatarImgUrl,alt:"头像"}})],1),a("a-form-item",{attrs:{"wrapper-col":{span:12,offset:6}}},[a("a-button",{attrs:{type:"primary",disabled:e.btnDisabled,"html-type":"submit"}},[e._v("确定保存")]),a("a-button",{staticStyle:{"margin-left":"20px"},attrs:{disabled:e.btnDisabled},on:{click:e.cancelHandle}},[e._v("取 消")])],1)],1)],1)},ps=[],cs=a("a4bb"),us=a.n(cs),ds={data:function(){return{pageLoading:!0,formItemLayout:{labelCol:{span:6},wrapperCol:{span:14}},avatarImgUrl:this.$store.getters.avatarUrl,virUidDisabled:!0,btnDisabled:!0}},beforeCreate:function(){var e=this;this.form=this.$form.createForm(this,{name:"validate_other",onValuesChange:function(){e.btnDisabled=!1}})},watch:{$route:function(e,t){this.pageLoading=!0,this._initLoad()}},created:function(){this._initLoad()},mounted:function(){},methods:{_initLoad:function(){this.pageLoading=!1},cancelHandle:function(){this.form.resetFields(),this.avatarImgUrl=this.$store.getters.avatarUrl,this.btnDisabled=!0},beforeUpload:function(e){var t=this;return e.size/1024/1024>2?(this.$message.error("图片不能超过2M"),!1):(Dt(e,(function(e){t.avatarImgUrl=e,t.btnDisabled=!1})),!1)},editVirUidHandle:function(){var e=this;this.virUidDisabled?(this.virUidDisabled=!1,this.$nextTick((function(){e.$refs.vir_uid_input.focus()}))):(this.virUidDisabled=!0,this.form.setFieldsValue({vir_uid:this.$store.getters.virUid}))},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){e||(t.avatarImgUrl&&t.avatarImgUrl!=t.$store.getters.avatarUrl&&(a.avatar=t.avatarImgUrl),(t.virUidDisabled||a.vir_uid.trim()==t.$store.getters.virUid)&&delete a.vir_uid,xe(a).then((function(e){t.$store.commit("setUserName",a.nickname),a.avatar&&t.$store.commit("setUserAvatarUrl",a.avatar);var s={};a.vir_uid&&(s.vir_uid_updated=!0,t.$store.commit("setUserVirUid",a.vir_uid)),a.email&&(s.email=a.email),us()(s).length>0&&t.$store.commit("setUserBasicsData",Object(xt["a"])({},t.$store.state.user.basicsData,s)),t.virUidDisabled=!0,t.btnDisabled=!0,t.$message.success("个人资料修改成功")})).catch((function(e){t.$message.error(e.message)})))}))}},beforeRouteLeave:function(e,t,a){this.btnDisabled?a():this.$confirm({title:"温馨提示",content:"当前页面数据尚未保存，确定要离开该页面？",okText:"确定离开",cancelText:"留在本页",onOk:function(){a()},onCancel:function(){a(!1)}})}},ms=ds,vs=(a("b844"),Object(Y["a"])(ms,ls,ps,!1,null,null,null)),fs=vs.exports,hs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-spin",{staticClass:"v-layout-content v-center-content",attrs:{tip:"加载中...",spinning:e.pageLoading}},[a("h2",[e._v("重置我的账号密码")]),a("a-form",{staticClass:"v-personal-form",attrs:{form:e.form,hideRequiredMark:!0},on:{submit:e.handleSubmit}},[a("a-form-item",e._b({attrs:{label:"当前密码",extra:"请输入您当前的账号登录密码"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["old_password",{rules:[{required:!0,message:"请输入您当前的账号登录密码"},{min:6,message:"密码最小需要6个字符"},{max:20,message:"密码最多不能超过20个字符"}]}],expression:"['old_password', {\n          rules: [\n            { required: true, message: '请输入您当前的账号登录密码' },\n            { min: 6, message: '密码最小需要6个字符' },\n            { max: 20, message: '密码最多不能超过20个字符' },\n          ]\n        }]"}],attrs:{type:"password",placeholder:"请输入您当前的账号登录密码"}})],1),a("a-form-item",e._b({attrs:{label:"新登录密码",extra:"请输入您的新账号登录密码，设置成功后请妥善保管好您的新密码哟~"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入您的新账号登录密码"},{min:6,message:"密码最小需要6个字符"},{max:20,message:"密码最多不能超过20个字符"},{validator:e.validateToNextPassword}]}],expression:"['password', {\n          rules: [\n            { required: true, message: '请输入您的新账号登录密码' },\n            { min: 6, message: '密码最小需要6个字符' },\n            { max: 20, message: '密码最多不能超过20个字符' },\n            {\n              validator: validateToNextPassword,\n            },\n          ]\n        }]"}],attrs:{type:"password",placeholder:"请输入您的新账号登录密码"}})],1),a("a-form-item",e._b({attrs:{label:"确认登录密码",extra:"请再次输入您的新账号登录密码，设置成功后请妥善保管好您的新密码哟~"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirm_password",{rules:[{required:!0,message:"请输入您的新账号登录密码"},{min:6,message:"密码最小需要6个字符"},{max:20,message:"密码最多不能超过20个字符"},{validator:e.compareToFirstPassword}]}],expression:"['confirm_password', {\n          rules: [\n            { required: true, message: '请输入您的新账号登录密码' },\n            { min: 6, message: '密码最小需要6个字符' },\n            { max: 20, message: '密码最多不能超过20个字符' },\n            {\n              validator: compareToFirstPassword,\n            },\n          ]\n        }]"}],attrs:{type:"password",placeholder:"请再次输入您的新账号登录密码"}})],1),a("a-form-item",{attrs:{"wrapper-col":{span:12,offset:6}}},[a("a-button",{attrs:{type:"primary",loading:e.submitLoading,"html-type":"submit"}},[e._v("确定重置密码")])],1)],1)],1)},gs=[],_s={data:function(){return{pageLoading:!0,submitLoading:!1,formItemLayout:{labelCol:{span:6},wrapperCol:{span:14}}}},watch:{$route:function(e,t){this.pageLoading=!0,this._initLoad()}},created:function(){this._initLoad()},beforeCreate:function(){this.form=this.$form.createForm(this)},mounted:function(){},methods:{_initLoad:function(){this.pageLoading=!1},validateToNextPassword:function(e,t,a){var s=this.form;t&&this.confirmDirty&&s.validateFields(["confirm"],{force:!0}),a()},compareToFirstPassword:function(e,t,a){var s=this.form;t&&t!==s.getFieldValue("password")?a("两次密码不一致"):a()},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){if(!e){if(t.submitLoading=!0,a.old_password==a.password)return t.$message.error("当前重置密码不能与原密码一致！"),void(t.submitLoading=!1);we(a).then((function(e){t.submitLoading=!1,t.form.resetFields(),t.$message.success("密码重置成功")})).catch((function(e){t.submitLoading=!1,t.$message.error(e.message)}))}}))}}},bs=_s,ys=Object(Y["a"])(bs,hs,gs,!1,null,null,null),As=ys.exports,xs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-spin",{staticClass:"v-layout-content v-center-content",attrs:{tip:"加载中...",spinning:e.pageLoading}},[a("h2",[e._v("我的消息通知")]),a("div",{staticClass:"v-empty-information"},[a("a-icon",{attrs:{type:"coffee"}}),a("p",[e._v("-- 暂无您的消息通知 --")])],1)])},ks=[],ws={data:function(){return{pageLoading:!0}},beforeCreate:function(){},watch:{$route:function(e,t){this.pageLoading=!0,this._initLoad()}},created:function(){this._initLoad()},mounted:function(){},methods:{_initLoad:function(){this.pageLoading=!1}}},Cs=ws,$s=(a("fc5d"),Object(Y["a"])(Cs,xs,ks,!1,null,null,null)),Ss=$s.exports;j["a"].use(te["a"]);var Ds=[{path:"/login",name:"login",component:Ge,meta:{title:"登录",full:!0}},{path:"/",name:"home",component:Ne,meta:{title:"首页",auth:!0}},{path:"/apps",name:"myApps",component:st,meta:{title:"我的所有应用",auth:!0}},{path:"/create",name:"appCreate",component:Tt,meta:{title:"新建应用",auth:!0}},{path:"/create_api",name:"apiCreate",component:wa,meta:{title:"新建接口",auth:!0}},{path:"/app/:slug",component:pt,children:[{path:"info",name:"appDetail",component:gt,meta:{title:"应用详情",auth:!0}},{path:"api",name:"apiList",component:ha,meta:{title:"应用接口列表",auth:!0}},{path:"debug",name:"apiDebug",component:Ea,meta:{title:"接口测试",auth:!0}},{path:"log",name:"appLog",component:Ba,meta:{title:"应用日志",auth:!0}},{path:"statistics",name:"appStatistics",component:Ua,meta:{title:"数据统计",auth:!0}},{path:"setting",name:"basicSetting",component:Za,meta:{title:"应用设置",subKey:"management",auth:!0}},{path:"other",name:"otherSetting",component:ts,meta:{title:"高级操作",subKey:"management",auth:!0}}]},{path:"/",component:os,children:[{path:"/profile",name:"profile",component:fs,meta:{title:"个人资料",auth:!0}},{path:"/security",name:"security",component:As,meta:{title:"账号密码",auth:!0}},{path:"/information",name:"information",component:Ss,meta:{title:"我的消息",auth:!0}}]},{path:"*",name:"404",component:function(){return a.e("404").then(a.bind(null,"038c"))},meta:{title:"404",full:!0}}],Ls=new te["a"]({routes:Ds,scrollBehavior:function(e,t,a){return a||{x:0,y:0}},mode:"hash"});Ls.beforeEach((function(e,t,a){!e.meta.auth||Le.getters.isLogin?Le.getters.isLogin&&"login"==e.name?a({name:"home"}):(e.meta.title?document.title=e.meta.title+" | VirAPI -- 虚拟数据接口系统 [开源版]":document.title="VirAPI -- 虚拟数据接口系统 [开源版]",a()):a({name:"login"})}));var Es=Ls;j["a"].config.productionTip=!1,j["a"].use(q["a"]),j["a"].use(U["b"]),j["a"].use(F["a"]),j["a"].use(M["a"]),j["a"].use(T["a"]),j["a"].use(V["a"]),j["a"].use(O["a"]),j["a"].use(I["a"]),j["a"].use(E["a"]),j["a"].use(L["a"]),j["a"].use(D["a"]),j["a"].use(S["a"]),j["a"].use($["a"]),j["a"].use(C["a"]),j["a"].use(w["a"]),j["a"].use(k["a"]),j["a"].use(x["a"]),j["a"].use(A["a"]),j["a"].use(y["a"]),j["a"].use(b["a"]),j["a"].use(_["a"]),j["a"].use(g["a"]),j["a"].use(h["a"]),j["a"].use(f["a"]),j["a"].use(v["a"]),j["a"].use(m["d"]),j["a"].use(d["a"]),j["a"].use(u["a"]),j["a"].use(c["a"]),j["a"].use(p["a"]),j["a"].use(l["a"]),j["a"].use(o["a"]),j["a"].use(r["a"]),j["a"].use(n["b"]),j["a"].prototype.$message=i["a"],j["a"].prototype.$notification=s["a"],j["a"].prototype.$info=x["a"].info,j["a"].prototype.$success=x["a"].success,j["a"].prototype.$error=x["a"].error,j["a"].prototype.$warning=x["a"].warning,j["a"].prototype.$confirm=x["a"].confirm,new j["a"]({router:Es,store:Le,render:function(e){return e(ee)}}).$mount("#var-app")},"58bc":function(e,t,a){"use strict";var s=a("b5f5"),i=a.n(s);i.a},"5c48":function(e,t,a){},"62ae":function(e,t,a){},"76ff":function(e,t,a){},"786e":function(e,t,a){},7925:function(e,t,a){"use strict";var s=a("9e04"),i=a.n(s);i.a},"7c55":function(e,t,a){"use strict";var s=a("5c48"),i=a.n(s);i.a},"8a9c":function(e,t,a){},"8d96":function(e,t){e.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAeAAD/4QOJaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0NSA3OS4xNjM0OTksIDIwMTgvMDgvMTMtMTY6NDA6MjIgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6RUI1RkRDQTAxMzU3RTkxMTk4OTM4OEZDM0Q4MzFGQjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUQ2MzRGQkZCRUEyMTFFQUIxRDU4MTQxNUNGQ0ZGMjkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUQ2MzRGQkVCRUEyMTFFQUIxRDU4MTQxNUNGQ0ZGMjkiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6YjA1ZTA2ODItMzY1ZS1hODQ1LThkYzMtMjc0MzUzMjY3MzFiIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZjAwYTJiYTUtYTM1My04ZjQ2LWFhN2MtOTUzOTg0ZWQxNTQyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQAEAsLCwwLEAwMEBcPDQ8XGxQQEBQbHxcXFxcXHx4XGhoaGhceHiMlJyUjHi8vMzMvL0BAQEBAQEBAQEBAQEBAQAERDw8RExEVEhIVFBEUERQaFBYWFBomGhocGhomMCMeHh4eIzArLicnJy4rNTUwMDU1QEA/QEBAQEBAQEBAQEBA/8AAEQgAyADIAwEiAAIRAQMRAf/EAGYAAQADAQEBAAAAAAAAAAAAAAACAwQBBQcBAQAAAAAAAAAAAAAAAAAAAAAQAQACAQIFAgcAAwAAAAAAAAABAgMRMSFBURIEcTJhgZGhsSITQkMUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD6AAAAAAAAAAACvJlrjjjxmdoBNVbycdZ039GfJmvk3nSOkIA31tF47q8YlJk8bJ227Z2t+WsAAAAAAAAAAAAAAAAAAAABl8qs90W5bNSN6xes1nmDAO2rNbTWd4cAbcOT+lNZ3jhLEnhyfzvrynhINw46AAAAAAAAAAAAAAAAAAAADP5OPWP6Ry3ZnoTETGk7Sw5KTS815cvQEQAavGyd1eyd6/hewUvNLRaOS7J5XLH9ZBdfJSka2n5M2TyL24V/WPuqmZmdZnWeoC3DmtW0Radaz1a3ntfj5O+mk+6v4BcAAAACrPlnHWNN52BO160jW06M9/KtM/pGkdZU2ta062nWXAa8Gacmtbe6PuuefW01tFo3huraLVi0bSCQAAAAACnyMffTWPdVcryZqY9+M9IBiHbTrMzEaa8nAAAAAEsd5peLfX0RAehE6xrG0uqfGv3U7Z3r+FwAACrPj76cN44wtAecLfIx9l+6Pbb8qgF/jZNJ7J2nb1UETpOsbg9EQxX/AKUi3Pn6pgA5MxEazwgHUbXrSNbTopyeTG2Pj8ZZ5tNp1tOsgtyeTa3Cn6x15qQAAAAAAAABZgt25I6Twltedtxb6z3ViesagkAAACGSkXpNZ+XqwzExMxO8bvRZvJx/7I9JBnABZgydl9J9tuEtjz07ZslqxWZ4R9waMnkUpwj9rfZmvkvef2n5ckQAAAAAAAAAAAABs8edcUfDgxtXiz+kx0kF4AAADloi0TE7STMRxlRk8mI4U4z15AovSaWms8kXbWtadbTrLgAAAAAAAAAAAAAAAADT4m1vkzNPie23qDQAAry5a446zO0LGbyqTrF+WwKr5b5PdPDpyQAAAAAAAAAAAAAAAAAAABr8WNMevWWRuxV7cdY+H5BMABG1YtWaztKQDz7VmtprO8ONXk49Y743jf0ZQAAAAAAAAAAAAAAAAAASpXuvFestzP4tOM3n0hpAAAABxjzYv521j2zs2o2rF6zWdpBgEsmO2O2k7cpRAAAAAAAAAAAAAAAdrWbTFY3lxq8fF2x323nb0BbSsUrFY5JAAAAAAACN6VvXtsx5MVsc6TtyluctWLRpMaxIPPF2Xx7V404x05qQAAAAAAAAAAAAXePii099to5fFqZfGtMZO3lO/wAmsAAAAAAAAAABVkwUvx2nrC0BivgyU5d0dYVvRQtjpf3Rr8QYRqt4tZ9szH3Vz4t+UxIKRb/z5en3c/58vT7grF0eLknfSE6+JH+VvoDMO3rNLTWd4K0tedKxrIOJ48V8m0cOsr8fjVjjfjPTkuBDFhrj4xxtzlYAAAAAAAAAAAAAAAAAAAAAIXx0v7o1drWtY0rGkACQAAAAAAAP/9k="},"9c0d":function(e,t,a){},"9c7a":function(e,t,a){e.exports=a.p+"img/wxpay_qr_code.8e266050.png"},"9e04":function(e,t,a){},"9ed5":function(e,t,a){"use strict";var s=a("786e"),i=a.n(s);i.a},a608:function(e,t,a){e.exports=a.p+"img/logo-icon.cccdfcab.png"},a901:function(e,t,a){"use strict";var s=a("2368"),i=a.n(s);i.a},abb5:function(e,t,a){},b299:function(e,t,a){},b332:function(e,t,a){"use strict";var s=a("e10d"),i=a.n(s);i.a},b5f5:function(e,t,a){},b844:function(e,t,a){"use strict";var s=a("8a9c"),i=a.n(s);i.a},bed0:function(e,t,a){},cf05:function(e,t,a){e.exports=a.p+"img/logo.2351b81a.png"},d0ad:function(e,t,a){"use strict";var s=a("f360"),i=a.n(s);i.a},d3cb:function(e,t,a){"use strict";var s=a("47a1"),i=a.n(s);i.a},d743:function(e,t,a){"use strict";var s=a("9c0d"),i=a.n(s);i.a},de16:function(e,t,a){"use strict";var s=a("f3e7"),i=a.n(s);i.a},e10d:function(e,t,a){},e133:function(e,t,a){},e7c0:function(e,t,a){"use strict";var s=a("1f6b"),i=a.n(s);i.a},f0dd:function(e,t,a){"use strict";var s=a("62ae"),i=a.n(s);i.a},f176:function(e,t,a){"use strict";var s=a("f9345"),i=a.n(s);i.a},f360:function(e,t,a){},f3e7:function(e,t,a){},f9345:function(e,t,a){},f99b:function(e,t,a){},fc5d:function(e,t,a){"use strict";var s=a("bed0"),i=a.n(s);i.a},fd82:function(e,t,a){e.exports=a.p+"img/alipay_qr_code.6603dbde.png"}});